!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/scripts/",n(n.s=6)}([function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"b",function(){return je}),n.d(t,"a",function(){return T}),n.d(t,"c",function(){return Pe});var u=function(){},l={},d={},f={mark:u,measure:u};try{"undefined"!=typeof window&&(l=window),"undefined"!=typeof document&&(d=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(f=performance)}catch(e){}var h=(l.navigator||{}).userAgent,p=void 0===h?"":h,m=l,v=d,b=f,y=(m.document,!!v.documentElement&&!!v.head&&"function"==typeof v.addEventListener&&"function"==typeof v.createElement),g=(~p.indexOf("MSIE")||p.indexOf("Trident/"),"fa"),w="svg-inline--fa",_="data-fa-i2svg",S=(function(){try{}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),q=S.concat([11,12,13,14,15,16,17,18,19,20]),x={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",x.GROUP,x.SWAP_OPACITY,x.PRIMARY,x.SECONDARY].concat(S.map(function(e){return"".concat(e,"x")})).concat(q.map(function(e){return"w-".concat(e)})),m.FontAwesomeConfig||{});if(v&&"function"==typeof v.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=a(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=v.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(E[r]=i)})}var k=c({},{familyPrefix:g,replacementClass:w,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},E);k.autoReplaceSvg||(k.observeMutations=!1);var T=c({},k);m.FontAwesomeConfig=T;var O=m||{};O.___FONT_AWESOME___||(O.___FONT_AWESOME___={}),O.___FONT_AWESOME___.styles||(O.___FONT_AWESOME___.styles={}),O.___FONT_AWESOME___.hooks||(O.___FONT_AWESOME___.hooks={}),O.___FONT_AWESOME___.shims||(O.___FONT_AWESOME___.shims=[]);var P=O.___FONT_AWESOME___,M=[];y&&((v.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(v.readyState)||v.addEventListener("DOMContentLoaded",function e(){v.removeEventListener("DOMContentLoaded",e),1,M.map(function(e){return e()})}));var j,A="pending",R="settled",L="fulfilled",I="rejected",C=function(){},z=void 0!==e&&void 0!==e.process&&"function"==typeof e.process.emit,N=void 0===r?setTimeout:r,F=[];function D(){for(var e=0;e<F.length;e++)F[e][0](F[e][1]);F=[],j=!1}function U(e,t){F.push([e,t]),j||(j=!0,N(D,0))}function W(e){var t=e.owner,n=t._state,r=t._data,i=e[n],o=e.then;if("function"==typeof i){n=L;try{r=i(r)}catch(e){X(o,e)}}H(o,r)||(n===L&&$(o,r),n===I&&X(o,r))}function H(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===i(t))){var r=t.then;if("function"==typeof r)return r.call(t,function(r){n||(n=!0,t===r?B(e,r):$(e,r))},function(t){n||(n=!0,X(e,t))}),!0}}catch(t){return n||X(e,t),!0}return!1}function $(e,t){e!==t&&H(e,t)||B(e,t)}function B(e,t){e._state===A&&(e._state=R,e._data=t,U(Y,e))}function X(e,t){e._state===A&&(e._state=R,e._data=t,U(G,e))}function V(e){e._then=e._then.forEach(W)}function Y(e){e._state=L,V(e)}function G(t){t._state=I,V(t),!t._handled&&z&&e.process.emit("unhandledRejection",t._data,t)}function K(t){e.process.emit("rejectionHandled",t)}function J(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof J==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){X(t,e)}try{e(function(e){$(t,e)},n)}catch(e){n(e)}}(e,this)}J.prototype={constructor:J,_state:A,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(C),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===I&&z&&U(K,this)),this._state===L||this._state===I?U(W,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},J.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new J(function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var s,c=0;c<e.length;c++)(s=e[c])&&"function"==typeof s.then?s.then(o(c),n):r[c]=s;i||t(r)})},J.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new J(function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)})},J.resolve=function(e){return e&&"object"===i(e)&&e.constructor===J?e:new J(function(t){t(e)})},J.reject=function(e){return new J(function(t,n){n(e)})};"function"==typeof Promise&&Promise;var Q={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Z(e){if(e&&y){var t=v.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=v.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return v.head.insertBefore(t,r),e}}var ee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function te(){for(var e=12,t="";e-- >0;)t+=ee[62*Math.random()|0];return t}function ne(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function re(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n],";")},"")}function ie(e){return e.size!==Q.size||e.x!==Q.x||e.y!==Q.y||e.rotate!==Q.rotate||e.flipX||e.flipY}function oe(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),c="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(c)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var se={x:0,y:0,width:"100%",height:"100%"};function ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function ae(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,s=e.transform,a=e.symbol,u=e.title,l=e.extra,d=e.watchable,f=void 0!==d&&d,h=r.found?r:n,p=h.width,m=h.height,v="fa-w-".concat(Math.ceil(p/m*16)),b=[T.replacementClass,o?"".concat(T.familyPrefix,"-").concat(o):"",v].filter(function(e){return-1===l.classes.indexOf(e)}).concat(l.classes).join(" "),y={children:[],attributes:c({},l.attributes,{"data-prefix":i,"data-icon":o,class:b,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})};f&&(y.attributes[_]=""),u&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(te())},children:[u]});var g=c({},y,{prefix:i,iconName:o,main:n,mask:r,transform:s,symbol:a,styles:l.styles}),w=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,o=e.mask,s=e.transform,a=i.width,u=i.icon,l=o.width,d=o.icon,f=oe({transform:s,containerWidth:l,iconWidth:a}),h={tag:"rect",attributes:c({},se,{fill:"white"})},p=u.children?{children:u.children.map(ce)}:{},m={tag:"g",attributes:c({},f.inner),children:[ce(c({tag:u.tag,attributes:c({},u.attributes,f.path)},p))]},v={tag:"g",attributes:c({},f.outer),children:[m]},b="mask-".concat(te()),y="clip-".concat(te()),g={tag:"mask",attributes:c({},se,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,v]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},g]};return n.push(w,{tag:"rect",attributes:c({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(b,")")},se)}),{children:n,attributes:r}}(g):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=re(e.styles);if(o.length>0&&(n.style=o),ie(i)){var s=oe({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:c({},s.outer),children:[{tag:"g",attributes:c({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:c({},r.icon.attributes,s.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(g),S=w.children,q=w.attributes;return g.children=S,g.attributes=q,a?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:c({},i,{id:!0===o?"".concat(t,"-").concat(T.familyPrefix,"-").concat(n):o}),children:r}]}]}(g):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,s=e.transform;if(ie(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=re(c({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(g)}var ue=function(){},le=(T.measurePerformance&&b&&b.mark&&b.measure,function(e,t,n,r){var i,o,s,c=Object.keys(e),a=c.length,u=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,s=e[c[0]]):(i=0,s=n);i<a;i++)s=u(s,e[o=c[i]],o,e);return s});function de(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(t).reduce(function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{});"function"!=typeof P.hooks.addPack||r?P.styles[e]=c({},P.styles[e]||{},i):P.hooks.addPack(e,i),"fas"===e&&de("fa",t)}var fe=P.styles,he=P.shims,pe=function(){var e=function(e){return le(fe,function(t,n,r){return t[r]=le(n,e,{}),t},{})};e(function(e,t,n){return t[3]&&(e[t[3]]=n),e}),e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in fe;le(he,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e},{})};pe();P.styles;function me(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function ve(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"==typeof e?ne(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(ne(e[n]),'" ')},"").trim()}(r),">").concat(o.map(ve).join(""),"</").concat(t,">")}function be(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}be.prototype=Object.create(Error.prototype),be.prototype.constructor=be;var ye={fill:"currentColor"},ge={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},we={tag:"path",attributes:c({},ye,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},_e=c({},ge,{attributeName:"opacity"});c({},ye,{cx:"256",cy:"364",r:"28"}),c({},ge,{attributeName:"r",values:"28;14;28;28;14;28;"}),c({},_e,{values:"1;0;1;1;0;1;"}),c({},ye,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),c({},_e,{values:"1;0;0;0;0;1;"}),c({},ye,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),c({},_e,{values:"0;0;1;1;0;0;"}),P.styles;function Se(e){var t=e[0],n=e[1],r=a(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(T.familyPrefix,"-").concat(x.GROUP)},children:[{tag:"path",attributes:{class:"".concat(T.familyPrefix,"-").concat(x.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(T.familyPrefix,"-").concat(x.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}P.styles;var qe='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function xe(){var e=g,t=w,n=T.familyPrefix,r=T.replacementClass,i=qe;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),c=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(c,".".concat(r))}return i}function Ee(){T.autoAddCss&&!Me&&(Z(xe()),Me=!0)}function ke(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return ve(e)})}}),Object.defineProperty(e,"node",{get:function(){if(y){var t=v.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function Te(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return me(Pe.definitions,n,r)||me(P.styles,n,r)}var Oe,Pe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,(n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=c({},e.definitions[t]||{},i[t]),de(t,i[t]),pe()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,s=r.icon;e[i]||(e[i]={}),e[i][o]=s}),e}}])&&o(t.prototype,n),r&&o(t,r),e}()),Me=!1,je=(Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Q:n,i=t.symbol,o=void 0!==i&&i,s=t.mask,a=void 0===s?null:s,u=t.title,l=void 0===u?null:u,d=t.classes,f=void 0===d?[]:d,h=t.attributes,p=void 0===h?{}:h,m=t.styles,v=void 0===m?{}:m;if(e){var b=e.prefix,y=e.iconName,g=e.icon;return ke(c({type:"icon"},e),function(){return Ee(),T.autoA11y&&(l?p["aria-labelledby"]="".concat(T.replacementClass,"-title-").concat(te()):(p["aria-hidden"]="true",p.focusable="false")),ae({icons:{main:Se(g),mask:a?Se(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:y,transform:c({},Q,r),symbol:o,title:l,extra:{attributes:p,styles:v,classes:f}})})}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:Te(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Te(r||{})),Oe(n,c({},t,{mask:r}))})}).call(this,n(1),n(3).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(module,exports,__webpack_require__){var require,require,require,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*! pjax-api v3.29.7 https://github.com/falsandtru/pjax-api | (c) 2012, falsandtru | (Apache-2.0 AND MPL-2.0) License */
require=function e(t,n,r){function i(s,c){if(!n[s]){if(!t[s]){if(!c&&"function"==typeof require&&require)return require(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){arguments[4][1][0].apply(n,arguments)},{dup:1}],3:[function(e,t,n){arguments[4][1][0].apply(n,arguments)},{dup:1}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./type");function i(e){return function(t,...n){if(null==t)throw new TypeError(`Spica: assign: Cannot walk on ${t}.`);for(const r of n)if(null!=r)for(const n of Object.keys(Object(r))){const i=Object.getOwnPropertyDescriptor(Object(r),n);void 0!==i&&i.enumerable&&e(n,Object(t),Object(r))}return Object(t)}}n.assign=i((e,t,n)=>t[e]=n[e]),n.clone=i((e,t,i)=>{switch(r.type(i[e])){case"Array":return t[e]=n.clone([],i[e]);case"Object":return t[e]=r.isObject(i[e])?n.clone(i[e]instanceof Object?{}:Object.create(null),i[e]):i[e];default:return t[e]=i[e]}}),n.extend=i((e,t,i)=>{switch(r.type(i[e])){case"Array":return t[e]=n.extend([],i[e]);case"Object":switch(r.type(t[e])){case"Object":return t[e]=r.isObject(i[e])?n.extend(t[e],i[e]):i[e];default:return t[e]=r.isObject(i[e])?n.extend(i[e]instanceof Object?{}:Object.create(null),i[e]):i[e]}default:return t[e]=i[e]}})},{"./type":83}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./assign"),i=e("./equal");n.Cache=class{constructor(e,t=(()=>void 0),n={}){if(this.size=e,this.callback=t,this.settings={ignore:{delete:!1,clear:!1},data:{stats:[[],[]],entries:[]}},e>0==!1)throw new Error("Spica: Cache: Cache size must be greater than 0.");r.extend(this.settings,n);const{stats:i,entries:o}=this.settings.data,s=i[1].slice(0,e),c=i[0].slice(0,e-s.length);this.stats={LRU:c,LFU:s},this.store=new Map(o);for(const e of[...i[1],...i[0]].slice(s.length+c.length))this.store.delete(e);if(this.store.size!==s.length+c.length)throw new Error("Spica: Cache: Size of stats and entries is not matched.");if(![...s,...c].every(e=>this.store.has(e)))throw new Error("Spica: Cache: Keys of stats and entries is not matched.")}put(e,t,n=!0){if(!n&&this.store.has(e))return this.store.set(e,t),!0;if(this.access(e))return this.store.set(e,t),!0;const{LRU:r,LFU:i}=this.stats;if(r.length+i.length===this.size&&r.length<i.length){const e=i.pop(),t=this.store.get(e);this.store.delete(e),this.callback(e,t)}if(r.unshift(e),this.store.set(e,t),r.length+i.length>this.size){const e=r.pop(),t=this.store.get(e);this.store.delete(e),this.callback(e,t)}return!1}set(e,t,n){return this.put(e,t,n),t}get(e,t=!0){return t?(this.access(e),this.store.get(e)):this.store.get(e)}has(e){return this.store.has(e)}delete(e){if(!this.store.has(e))return!1;const{LRU:t,LFU:n}=this.stats;for(const r of[n,t]){const t=i.findIndex(e,r);if(-1===t)continue;const n=this.store.get(e);return this.store.delete(r.splice(t,1)[0]),this.settings.ignore.delete?!0:(this.callback(e,n),!0)}return!1}clear(){const e=this.store;if(this.store=new Map,this.stats={LRU:[],LFU:[]},!this.settings.ignore.clear)for(const[t,n]of e)this.callback(t,n)}[Symbol.iterator](){return this.store[Symbol.iterator]()}export(){return{stats:[this.stats.LRU.slice(),this.stats.LFU.slice()],entries:[...this]}}inspect(){const{LRU:e,LFU:t}=this.stats;return[e.slice(),t.slice()]}access(e){return this.accessLFU(e)||this.accessLRU(e)}accessLRU(e){if(!this.store.has(e))return!1;const{LRU:t}=this.stats,n=i.findIndex(e,t);if(-1===n)return!1;const{LFU:r}=this.stats;return r.unshift(...t.splice(n,1)),!0}accessLFU(e){if(!this.store.has(e))return!1;const{LFU:t}=this.stats,n=i.findIndex(e,t);return-1!==n&&(t.unshift(...t.splice(n,1)),!0)}}},{"./assign":4,"./equal":13}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./promise"),i=e("./future"),o=e("./exception"),s=e("./monad/maybe"),c=e("./monad/either");n.Cancellation=class extends r.AtomicPromise{constructor(e=[]){var t;super(e=>t=e),this.alive=!0,this.canceled_=!1,this.state=new i.AtomicFuture,this.listeners=new Set,this.register=e=>{return this.canceled_?(t(this.reason),()=>void 0):this.alive?(this.listeners.add(t),()=>this.alive?void this.listeners.delete(t):void 0):()=>void 0;function t(t){try{e(t)}catch(t){o.causeAsyncException(t)}}},this.cancel=e=>{if(this.alive){this.alive=!1,this.canceled_=!0,this.reason=e,this.state.bind(this.reason),Object.freeze(this.listeners),Object.freeze(this);for(const t of this.listeners)t(e)}},this.close=e=>{this.alive&&(this.alive=!1,this.state.bind(r.AtomicPromise.reject(e)),Object.freeze(this.listeners),Object.freeze(this))},this.promise=e=>this.canceled_?r.AtomicPromise.reject(this.reason):r.AtomicPromise.resolve(e),this.maybe=e=>s.Just(e).bind(e=>this.canceled_?s.Nothing:s.Just(e)),this.either=e=>c.Right(e).bind(e=>this.canceled_?c.Left(this.reason):c.Right(e)),t(this.state);for(const t of e)t.register(this.cancel)}static get[Symbol.species](){return r.AtomicPromise}get canceled(){return this.canceled_}}},{"./exception":14,"./future":16,"./monad/either":21,"./monad/maybe":25,"./promise":77}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./exception");let i=[];n.tick=function(e){i.push(e),function(){if(1!==i.length)return;o.then(s)}()};const o=Promise.resolve();function s(){const e=function(){const e=i;return i=[],e}();for(;;)try{for(;e.length>0;)e.shift()();return}catch(e){r.causeAsyncException(e);continue}}},{"./exception":14}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./promise");var i=e("./clock.tick");n.tick=i.tick,n.clock=Promise.resolve(),n.wait=function(e){return 0===e?r.AtomicPromise.resolve(n.clock):new r.AtomicPromise(t=>void setTimeout(t,e))}},{"./clock.tick":7,"./promise":77}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.compose=function(e,...t){return t.reduce((e,t)=>(Object.getOwnPropertyNames(t.prototype).filter(t=>!(t in e.prototype)).forEach(n=>e.prototype[n]=t.prototype[n]),Object.getOwnPropertyNames(t).filter(t=>!(t in e)).forEach(n=>e[n]=t[n]),e),e)}},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concat=function(e,t){return e.push(...t),e}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.curry=e=>0===e.length?e:function e(t,n){return n.length>=t.length?t(...n):(...r)=>e(t,[...n,...r])}(e,[])},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./monad/either"))},{"./monad/either":21}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findIndex=function(e,t){const n=e!=e;for(let r=0;r<t.length;++r){const i=t[r];if(n?i!=i:i===e)return r}return-1}},{}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.causeAsyncException=function(e){new Promise((t,n)=>void n(e))}},{}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./curry");n.flip=function(e){return r.curry((t,n)=>e.length>1?e(n,t):e(n)(t))}},{"./curry":11}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./promise");n.Future=class extends Promise{constructor(){let e,t=!0;super(n=>e=e=>{if(!t)throw new Error("Spica: Future: Cannot rebind a value.");return t=!1,n(e),this}),this.bind=e}static get[Symbol.species](){return Promise}};n.AtomicFuture=class extends r.AtomicPromise{constructor(){let e,t=!0;super(n=>e=e=>{if(!t)throw new Error("Spica: AtomicFuture: Cannot rebind a value.");return t=!1,n(e),this}),this.bind=e}static get[Symbol.species](){return r.AtomicPromise}}},{"./promise":77}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HNil=new class{constructor(){this.NIL}push(e){return new r(e,this)}extend(e){return this.push(e())}tuple(){return[]}};class r{constructor(e,t){this.head=e,this.tail=t,this.CONS}push(e){return new r(e,this)}walk(e){return e(this.head),this.tail}modify(e){return this.tail.push(e(this.head))}extend(e){return this.push(e(this.head))}compact(e){return this.tail.modify(t=>e(this.head,t))}reverse(){return this.tuple().reverse()}tuple(){const e=this.tail.tuple();return e.unshift(this.head),e}}},{}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./monad/maybe"))},{"./monad/maybe":25}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./functor"),i=e("../curry");class o extends r.Functor{}n.Applicative=o,function(e){e.ap=function e(t,n){return n?t.bind(e=>n.fmap(i.curry(e))):n=>e(t,n)}}(o=n.Applicative||(n.Applicative={}))},{"../curry":11,"./functor":22}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./monad"),i=e("../promise");class o extends r.Monad{constructor(e){super(e),this.EITHER}fmap(e){return this.bind(t=>new c(e(t)))}ap(e){return o.ap(this,e)}bind(e){return new o(()=>{const t=this.evaluate();if(t instanceof s)return t;if(t instanceof c)return e(t.extract());if(t instanceof o)return t.bind(e);throw new TypeError(`Spica: Either: Invalid monad value.\n\t${t}`)})}join(){return this.bind(e=>e)}extract(e,t){return t?this.fmap(t).extract(e):this.evaluate().extract(e)}static do(e){const t=e();let n;for(;;){const{value:e,done:r}=t.next(n);if(r)return e;const i=e.extract(()=>void 0,e=>[e]);if(!i)return e;n=i[0]}}}n.Either=o,function(e){function t(e){return new c(e)}e.pure=t,e.Return=t,e.sequence=function(t){return t instanceof e?t.extract(e=>i.AtomicPromise.resolve(new s(e)),t=>i.AtomicPromise.resolve(t).then(e.Return)):t.reduce((e,t)=>e.bind(e=>t.fmap(t=>[...e,t])),e.Return([]))}}(o=n.Either||(n.Either={}));class s extends o{constructor(e){super(a),this.a=e,this.LEFT}bind(e){return this}extract(e){if(!e)throw this.a;return e(this.a)}}n.Left=s;class c extends o{constructor(e){super(a),this.b=e,this.RIGHT}bind(e){return new o(()=>e(this.extract()))}extract(e,t){return t?t(this.b):this.b}}function a(){throw new Error("Spica: Either: Invalid thunk call.")}n.Right=c},{"../promise":77,"./monad":26}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./either.impl");n.Either=class extends r.Either{constructor(){super(()=>void 0)}},n.Left=function(e){return new r.Left(e)},n.Right=function(e){return new r.Right(e)}},{"./either.impl":20}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./lazy");class i extends r.Lazy{}n.Functor=i,function(e){e.fmap=function(e,t){return t?e.fmap(t):t=>e.fmap(t)}}(i=n.Functor||(n.Functor={}))},{"./lazy":23}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Lazy=class{constructor(e){this.thunk=e}evaluate(){return this.memory_=this.memory_||this.thunk()}}},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./monadplus"),i=e("../promise");class o extends r.MonadPlus{constructor(e){super(e),this.MAYBE}fmap(e){return this.bind(t=>new s(e(t)))}ap(e){return o.ap(this,e)}bind(e){return new o(()=>{const t=this.evaluate();if(t instanceof s)return e(t.extract());if(t instanceof c)return t;if(t instanceof o)return t.bind(e);throw new TypeError(`Spica: Maybe: Invalid monad value.\n\t${t}`)})}guard(e){return e?this:o.mzero}join(){return this.bind(e=>e)}extract(e,t){return t?this.fmap(t).extract(e):this.evaluate().extract(e)}static do(e){const t=e();let n;for(;;){const{value:e,done:r}=t.next(n);if(r)return e;const i=e.extract(()=>void 0,e=>[e]);if(!i)return e;n=i[0]}}}n.Maybe=o,function(e){function t(e){return new s(e)}e.pure=t,e.Return=t,e.sequence=function(t){return t instanceof e?t.extract(()=>i.AtomicPromise.resolve(e.mzero),t=>i.AtomicPromise.resolve(t).then(e.Return)):t.reduce((e,t)=>e.bind(e=>t.fmap(t=>[...e,t])),e.Return([]))}}(o=n.Maybe||(n.Maybe={}));class s extends o{constructor(e){super(a),this.a=e,this.JUST}bind(e){return new o(()=>e(this.extract()))}extract(e,t){return t?t(this.a):this.a}}n.Just=s;class c extends o{constructor(){super(a),this.NOTHING}bind(e){return this}extract(e){if(!e)throw void 0;return e()}}function a(){throw new Error("Spica: Maybe: Invalid thunk call.")}n.Nothing=c,function(e){e.mzero=new c,e.mplus=function(t,n){return new e(()=>t.fmap(()=>t).extract(()=>n))}}(o=n.Maybe||(n.Maybe={}))},{"../promise":77,"./monadplus":27}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./maybe.impl");n.Maybe=class extends r.Maybe{constructor(){super(()=>void 0)}},n.Just=function(e){return new r.Just(e)},n.Nothing=r.Maybe.mzero},{"./maybe.impl":24}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./applicative");class i extends r.Applicative{}n.Monad=i,function(e){e.bind=function e(t,n){return n?t.bind(n):n=>e(t,n)}}(i=n.Monad||(n.Monad={}))},{"./applicative":19}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./monad");class i extends r.Monad{}n.MonadPlus=i,i=n.MonadPlus||(n.MonadPlus={})},{"./monad":26}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./sequence/core");n.Sequence=r.Sequence;const i=e("./sequence/member/static/resume"),o=e("./sequence/member/static/from"),s=e("./sequence/member/static/cycle"),c=e("./sequence/member/static/random"),a=e("./sequence/member/static/concat"),u=e("./sequence/member/static/zip"),l=e("./sequence/member/static/difference"),d=e("./sequence/member/static/union"),f=e("./sequence/member/static/intersect"),h=e("./sequence/member/static/pure"),p=e("./sequence/member/static/return"),m=e("./sequence/member/static/sequence"),v=e("./sequence/member/static/mempty"),b=e("./sequence/member/static/mconcat"),y=e("./sequence/member/static/mappend"),g=e("./sequence/member/static/mzero"),w=e("./sequence/member/static/mplus"),_=e("./sequence/member/instance/extract"),S=e("./sequence/member/instance/iterate"),q=e("./sequence/member/instance/memoize"),x=e("./sequence/member/instance/reduce"),E=e("./sequence/member/instance/take"),k=e("./sequence/member/instance/drop"),T=e("./sequence/member/instance/takeWhile"),O=e("./sequence/member/instance/dropWhile"),P=e("./sequence/member/instance/takeUntil"),M=e("./sequence/member/instance/dropUntil"),j=e("./sequence/member/instance/sort"),A=e("./sequence/member/instance/unique"),R=e("./sequence/member/instance/fmap"),L=e("./sequence/member/instance/ap"),I=e("./sequence/member/instance/bind"),C=e("./sequence/member/instance/join"),z=e("./sequence/member/instance/mapM"),N=e("./sequence/member/instance/filterM"),F=e("./sequence/member/instance/map"),D=e("./sequence/member/instance/filter"),U=e("./sequence/member/instance/scanl"),W=e("./sequence/member/instance/foldr"),H=e("./sequence/member/instance/group"),$=e("./sequence/member/instance/inits"),B=e("./sequence/member/instance/tails"),X=e("./sequence/member/instance/segs"),V=e("./sequence/member/instance/subsequences"),Y=e("./sequence/member/instance/permutations");e("../compose").compose(r.Sequence,i.default,o.default,s.default,c.default,a.default,u.default,l.default,d.default,f.default,h.default,p.default,m.default,v.default,b.default,y.default,g.default,w.default,_.default,S.default,q.default,x.default,E.default,k.default,T.default,O.default,P.default,M.default,j.default,A.default,R.default,L.default,I.default,C.default,z.default,N.default,F.default,D.default,U.default,W.default,H.default,$.default,B.default,X.default,V.default,Y.default)},{"../compose":9,"./sequence/core":29,"./sequence/member/instance/ap":30,"./sequence/member/instance/bind":31,"./sequence/member/instance/drop":32,"./sequence/member/instance/dropUntil":33,"./sequence/member/instance/dropWhile":34,"./sequence/member/instance/extract":35,"./sequence/member/instance/filter":36,"./sequence/member/instance/filterM":37,"./sequence/member/instance/fmap":38,"./sequence/member/instance/foldr":39,"./sequence/member/instance/group":40,"./sequence/member/instance/inits":41,"./sequence/member/instance/iterate":42,"./sequence/member/instance/join":43,"./sequence/member/instance/map":44,"./sequence/member/instance/mapM":45,"./sequence/member/instance/memoize":46,"./sequence/member/instance/permutations":47,"./sequence/member/instance/reduce":48,"./sequence/member/instance/scanl":49,"./sequence/member/instance/segs":50,"./sequence/member/instance/sort":51,"./sequence/member/instance/subsequences":52,"./sequence/member/instance/tails":53,"./sequence/member/instance/take":54,"./sequence/member/instance/takeUntil":55,"./sequence/member/instance/takeWhile":56,"./sequence/member/instance/unique":57,"./sequence/member/static/concat":58,"./sequence/member/static/cycle":59,"./sequence/member/static/difference":60,"./sequence/member/static/from":61,"./sequence/member/static/intersect":62,"./sequence/member/static/mappend":63,"./sequence/member/static/mconcat":64,"./sequence/member/static/mempty":65,"./sequence/member/static/mplus":66,"./sequence/member/static/mzero":67,"./sequence/member/static/pure":68,"./sequence/member/static/random":69,"./sequence/member/static/resume":70,"./sequence/member/static/return":71,"./sequence/member/static/sequence":72,"./sequence/member/static/union":73,"./sequence/member/static/zip":74}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../monadplus");class i extends r.MonadPlus{constructor(e){super(o),this.cons=e}[Symbol.iterator](){let e=()=>this.iterate();return{next(){const t=e();return e=i.Thunk.iterator(t),{done:!i.isIterable(t),value:i.Thunk.value(t)}}}}}function o(){throw new Error("Spica: Sequence: Invalid thunk call.")}n.Sequence=i,i=n.Sequence||(n.Sequence={}),function(e){let t,n,r,i;!function(t){t.cons=function(t,n){switch(arguments.length){case 0:return[];case 1:return[t];case 2:return[t,n];default:throw e.Exception.invalidConsError(arguments)}}}(t=e.Data||(e.Data={})),function(e){e.value=function(e){return e[0]},e.iterator=function(e){return e[1]},e.index=function(e){return e[2]}}(n=e.Thunk||(e.Thunk={})),function(t){t.done=()=>[void 0,t.done,-1],t.when=function t(r,i,o){return e.isIterable(r)?o(r,()=>t(n.iterator(r)(),i,o)):i(r)}}(r=e.Iterator||(e.Iterator={})),e.isIterable=function(e){return n.iterator(e)!==r.done},function(e){e.invalidConsError=function(e){return console.error(e,e.length,e[0],e[1]),new TypeError("Spica: Sequence: Invalid parameters of cons.")},e.invalidDataError=function(e){return console.error(e),new TypeError("Spica: Sequence: Invalid data.")},e.invalidThunkError=function(e){return console.error(e),new TypeError("Spica: Sequence: Invalid thunk.")}}(i=e.Exception||(e.Exception={}))}(i=n.Sequence||(n.Sequence={}))},{"../monadplus":27}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{ap(e){return r.Sequence.ap(this,e)}}},{"../../core":29}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{bind(e){return r.Sequence.concat(this.fmap(e))}}},{"../../core":29}],32:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{drop(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),(t,i)=>r.Sequence.Thunk.index(t)<e?i():n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],33:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{dropUntil(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),(t,i)=>e(r.Sequence.Thunk.value(t))?i():n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{dropWhile(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),(t,i)=>e(r.Sequence.Thunk.value(t))?i():n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{extract(){const e=[];let t=()=>this.iterate();for(;;){const n=t();if(!r.Sequence.isIterable(n))return e;i.concat(e,[r.Sequence.Thunk.value(n)]),t=r.Sequence.Thunk.iterator(n)}}}},{"../../../../concat":10,"../../core":29}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{filter(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),(t,i)=>e(r.Sequence.Thunk.value(t),r.Sequence.Thunk.index(t))?n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t)):i()))}}},{"../../core":29}],37:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{filterM(e){return r.Sequence.from([0]).bind(()=>{const t=this.extract();switch(t.length){case 0:return r.Sequence.from([[]]);default:{const n=t.shift();return e(n).bind(o=>o?0===t.length?r.Sequence.from([[n]]):r.Sequence.from(t).filterM(e).fmap(e=>i.concat([n],e)):0===t.length?r.Sequence.from([[]]):r.Sequence.from(t).filterM(e))}}})}}},{"../../../../concat":10,"../../core":29}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{fmap(e){return new r.Sequence((t=(()=>this.iterate()))=>r.Sequence.Iterator.when(t(),()=>r.Sequence.Data.cons(),t=>r.Sequence.Data.cons(e(r.Sequence.Thunk.value(t)),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],39:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{foldr(e,t){return new r.Sequence((n=(()=>this.reduce().iterate()))=>r.Sequence.Iterator.when(n(),()=>r.Sequence.Data.cons(t),n=>r.Sequence.Data.cons(e(r.Sequence.Thunk.value(n),r.Sequence.resume(r.Sequence.Thunk.iterator(n)).foldr(e,t))))).bind(e=>e)}}},{"../../core":29}],40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{group(e){return new r.Sequence(([t,n]=[()=>this.iterate(),[]],o)=>r.Sequence.Iterator.when(t(),()=>0===n.length?o():o(n),(t,s)=>0===n.length||e(n[0],r.Sequence.Thunk.value(t))?(i.concat(n,[r.Sequence.Thunk.value(t)]),s()):o(n,[r.Sequence.Thunk.iterator(t),i.concat([],[r.Sequence.Thunk.value(t)])])))}}},{"../../../../concat":10,"../../core":29}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{inits(){return r.Sequence.mappend(r.Sequence.from([[]]),this.scanl((e,t)=>[...e,t],[]).dropWhile(e=>0===e.length))}}},{"../../core":29}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{iterate(){return this.iterate_()}iterate_(e,t=0){const n=this.cons(e,r.Sequence.Data.cons);switch(n.length){case 0:return[void 0,r.Sequence.Iterator.done,-1];case 1:return[n[0],()=>r.Sequence.Iterator.done(),t];case 2:return[n[0],()=>this.iterate_(n[1],t+1),t];default:throw r.Sequence.Exception.invalidDataError(n)}}}},{"../../core":29}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{join(){return r.Sequence.concat(this)}}},{"../../core":29}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{map(e){return new r.Sequence((t=(()=>this.iterate()))=>r.Sequence.Iterator.when(t(),()=>r.Sequence.Data.cons(),t=>r.Sequence.Data.cons(e(r.Sequence.Thunk.value(t),r.Sequence.Thunk.index(t)),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{mapM(e){return r.Sequence.from([0]).bind(()=>{const t=this.extract();switch(t.length){case 0:return r.Sequence.mempty;default:{const n=t.shift();return e(n).bind(n=>0===t.length?r.Sequence.from([[n]]):r.Sequence.from(t).mapM(e).fmap(e=>i.concat([n],e)))}}})}}},{"../../../../concat":10,"../../core":29}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=new WeakMap;n.default=class extends r.Sequence{memoize(){return new r.Sequence(([e,t]=[0,i.get(this)||i.set(this,new Map).get(this)],n)=>r.Sequence.Iterator.when(t.get(e)||t.set(e,e>0&&t.has(e-1)?r.Sequence.Thunk.iterator(t.get(e-1))():this.iterate()).get(e),()=>n(),i=>n(r.Sequence.Thunk.value(i),[e+1,t])))}}},{"../../core":29}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{permutations(){return r.Sequence.from([0]).bind(()=>{const e=this.extract();return 0===e.length?r.Sequence.mempty:r.Sequence.from([e])}).bind(e=>r.Sequence.mappend(r.Sequence.from([e]),function e(t,n){return r.Sequence.Iterator.when(t.iterate(),()=>r.Sequence.mempty,t=>new r.Sequence((i,o)=>r.Sequence.Iterator.when(t,()=>o(),t=>{const i=r.Sequence.Thunk.value(t),s=r.Sequence.resume(r.Sequence.Thunk.iterator(t)).memoize();return o(n.permutations().foldr((e,t)=>(function(e,t){return function e(t,n,o){return r.Sequence.Iterator.when(n.iterate(),()=>[s,o],n=>{const s=r.Sequence.Thunk.value(n),[c,a]=e(e=>t(r.Sequence.mappend(r.Sequence.from([s]),e)),r.Sequence.resume(r.Sequence.Thunk.iterator(n)),o);return[r.Sequence.mappend(r.Sequence.from([s]),c),r.Sequence.mappend(r.Sequence.from([t(r.Sequence.mappend(r.Sequence.from([i]),r.Sequence.mappend(r.Sequence.from([s]),c))).extract()]),a)]})}(e=>e,e,t)[1]})(r.Sequence.from(e),t),e(s,r.Sequence.mappend(r.Sequence.from([i]),n))))})).bind(e=>e))}(r.Sequence.from(e),r.Sequence.mempty)))}}},{"../../core":29}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{reduce(){return new r.Sequence(([e,t]=[0,new Map],n)=>r.Sequence.Iterator.when(t.get(e)||t.set(e,e>0&&t.has(e-1)?r.Sequence.Thunk.iterator(t.get(e-1))():this.iterate()).get(e),()=>n(),i=>n(r.Sequence.Thunk.value(i),[e+1,t])))}}},{"../../core":29}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{scanl(e,t){return new r.Sequence(([n,i,o]=[t,()=>this.iterate(),0])=>r.Sequence.Iterator.when(i(),()=>0===o?r.Sequence.Data.cons(t):r.Sequence.Data.cons(),t=>r.Sequence.Data.cons(n=e(n,r.Sequence.Thunk.value(t)),[n,r.Sequence.Thunk.iterator(t),r.Sequence.Thunk.index(t)+1])))}}},{"../../core":29}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{segs(){return r.Sequence.mappend(this.foldr((e,t)=>t.take(1).bind(n=>r.Sequence.mappend(r.Sequence.from([r.Sequence.mappend(r.Sequence.from([[e]]),r.Sequence.from(n).map(t=>i.concat([e],t)))]),t)),r.Sequence.from([r.Sequence.from([])])).bind(e=>e),r.Sequence.from([[]]))}}},{"../../../../concat":10,"../../core":29}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{sort(e){return r.Sequence.from(this.extract().sort(e))}}},{"../../core":29}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core"),i=e("../../../../concat");n.default=class extends r.Sequence{subsequences(){return r.Sequence.mappend(r.Sequence.from([[]]),r.Sequence.from([0]).bind(()=>(function e(t){return r.Sequence.Iterator.when(t.iterate(),()=>r.Sequence.mempty,t=>r.Sequence.mappend(r.Sequence.from([[r.Sequence.Thunk.value(t)]]),new r.Sequence((n,o)=>r.Sequence.Iterator.when(t,()=>o(),t=>o(e(r.Sequence.resume(r.Sequence.Thunk.iterator(t))).foldr((e,n)=>r.Sequence.mappend(r.Sequence.mappend(r.Sequence.from([e]),r.Sequence.from([i.concat([r.Sequence.Thunk.value(t)],e)])),n),r.Sequence.mempty)))).bind(e=>e)))})(this)))}}},{"../../../../concat":10,"../../core":29}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{tails(){return r.Sequence.mappend(r.Sequence.from(this.extract().map((e,t,n)=>n.slice(t))),r.Sequence.from([[]]))}}},{"../../core":29}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{take(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(e>0?t():r.Sequence.Iterator.done(),()=>n(),t=>r.Sequence.Thunk.index(t)+1<e?n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t)):n(r.Sequence.Thunk.value(t))))}}},{"../../core":29}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{takeUntil(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),t=>e(r.Sequence.Thunk.value(t))?n(r.Sequence.Thunk.value(t)):n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t))))}}},{"../../core":29}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{takeWhile(e){return new r.Sequence((t=(()=>this.iterate()),n)=>r.Sequence.Iterator.when(t(),()=>n(),t=>e(r.Sequence.Thunk.value(t))?n(r.Sequence.Thunk.value(t),r.Sequence.Thunk.iterator(t)):n()))}}},{"../../core":29}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{unique(){const e=new Set;return this.filter(t=>!e.has(t)&&!!e.add(t))}}},{"../../core":29}],58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static concat(e){return new r.Sequence(([t,n]=[()=>e.iterate(),r.Sequence.Iterator.done],i)=>r.Sequence.Iterator.when(t(),()=>i(),(e,t)=>(n=n===r.Sequence.Iterator.done?()=>r.Sequence.Thunk.value(e).iterate():n,r.Sequence.Iterator.when(n(),()=>(n=r.Sequence.Iterator.done,t()),t=>i(r.Sequence.Thunk.value(t),[()=>e,r.Sequence.Thunk.iterator(t)])))))}}},{"../../core":29}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static cycle(e){return new r.Sequence(function t([n,r]=[e[Symbol.iterator](),0],i){const o=n.next();return o.done?t([e[Symbol.iterator](),r+1],i):i(o.value,[n,r+1])}).reduce()}}},{"../../core":29}],60:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static difference(e,t,n){return new r.Sequence(([i,o]=[()=>e.iterate(),()=>t.iterate()],s)=>r.Sequence.Iterator.when(i(),()=>r.Sequence.Iterator.when(o(),()=>s(),e=>s(r.Sequence.Thunk.value(e),[r.Sequence.Iterator.done,r.Sequence.Thunk.iterator(e)])),(e,t)=>r.Sequence.Iterator.when(o(),()=>s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),r.Sequence.Iterator.done]),i=>{const c=n(r.Sequence.Thunk.value(e),r.Sequence.Thunk.value(i));return c<0?s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),()=>i]):c>0?s(r.Sequence.Thunk.value(i),[()=>e,r.Sequence.Thunk.iterator(i)]):(o=()=>r.Sequence.Thunk.iterator(i)(),t())})))}}},{"../../core":29}],61:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static from(e){return new r.Sequence(([t,n]=[e[Symbol.iterator](),0],r)=>{const i=t.next();return i.done?r():r(i.value,[t,n+1])}).reduce()}}},{"../../core":29}],62:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static intersect(e,t,n){return new r.Sequence(([i,o]=[()=>e.iterate(),()=>t.iterate()],s)=>r.Sequence.Iterator.when(i(),()=>s(),(e,t)=>r.Sequence.Iterator.when(o(),()=>s(),(i,c)=>{const a=n(r.Sequence.Thunk.value(e),r.Sequence.Thunk.value(i));return a<0?(o=()=>i,t()):a>0?c():s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),r.Sequence.Thunk.iterator(i)])})))}}},{"../../core":29}],63:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static mappend(e,t){return r.Sequence.mconcat([e,t])}}},{"../../core":29}],64:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static mconcat(e){return[...e].reduce((e,t)=>(function(e,t){return new r.Sequence(([n,i]=[()=>e.iterate(),()=>t.iterate()],o)=>r.Sequence.Iterator.when(n(),()=>r.Sequence.Iterator.when(i(),()=>o(),e=>o(r.Sequence.Thunk.value(e),[r.Sequence.Iterator.done,r.Sequence.Thunk.iterator(e)])),e=>o(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),i])))})(e,t),r.Sequence.mempty)}}},{"../../core":29}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");class i extends r.Sequence{}n.default=i,i.mempty=new r.Sequence((e,t)=>t())},{"../../core":29}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");class i extends r.Sequence{}n.default=i,i.mplus=r.Sequence.mappend},{"../../core":29}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");class i extends r.Sequence{}n.default=i,i.mzero=r.Sequence.mempty},{"../../core":29}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static pure(e){return new r.Sequence((t,n)=>n(e))}}},{"../../core":29}],69:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static random(e=(()=>Math.random())){return"function"==typeof e?r.Sequence.from(new r.Sequence((t,n)=>n(e(),t))):this.random().map(t=>e[t*e.length|0])}}},{"../../core":29}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static resume(e){return new r.Sequence((t=e,n)=>r.Sequence.Iterator.when(t(),()=>n(),e=>n(r.Sequence.Thunk.value(e),r.Sequence.Thunk.iterator(e))))}}},{"../../core":29}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static Return(e){return new r.Sequence((t,n)=>n(e))}}},{"../../core":29}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static sequence(e){return e.reduce((e,t)=>e.fmap(e=>r.Sequence.mappend(e,t)),r.Sequence.Return(r.Sequence.from([])))}}},{"../../core":29}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static union(e,t,n){return new r.Sequence(([i,o]=[()=>e.iterate(),()=>t.iterate()],s)=>r.Sequence.Iterator.when(i(),()=>r.Sequence.Iterator.when(o(),()=>s(),e=>s(r.Sequence.Thunk.value(e),[r.Sequence.Iterator.done,r.Sequence.Thunk.iterator(e)])),e=>r.Sequence.Iterator.when(o(),()=>s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),r.Sequence.Iterator.done]),t=>{const i=n(r.Sequence.Thunk.value(e),r.Sequence.Thunk.value(t));return i<0?s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),()=>t]):i>0?s(r.Sequence.Thunk.value(t),[()=>e,r.Sequence.Thunk.iterator(t)]):s(r.Sequence.Thunk.value(e),[r.Sequence.Thunk.iterator(e),r.Sequence.Thunk.iterator(t)])})))}}},{"../../core":29}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../core");n.default=class extends r.Sequence{static zip(e,t){return new r.Sequence(([n,i]=[()=>e.iterate(),()=>t.iterate()],o)=>r.Sequence.Iterator.when(n(),()=>o(),e=>r.Sequence.Iterator.when(i(),()=>o(),t=>o([r.Sequence.Thunk.value(e),r.Sequence.Thunk.value(t)],[r.Sequence.Thunk.iterator(e),r.Sequence.Thunk.iterator(t)]))))}}},{"../../core":29}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noop=function(){}},{}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./assign"),i=e("./concat"),o=e("./equal"),s=e("./exception");var c;!function(e){e.monitor="monitor",e.subscriber="subscriber"}(c=n.RegisterItemType||(n.RegisterItemType={}));function a(e,t,n,r){return e.some(e=>e.type===t&&e.namespace.length===n.length&&e.namespace.every((e,t)=>e===n[t])&&e.listener===r)}n.Observation=class{constructor(e={}){this.settings={limit:10},this.relaySources=new WeakSet,this.node_={parent:void 0,children:new Map,childrenNames:[],items:[]},r.extend(this.settings,e)}monitor(e,t,{once:n=!1}={}){if("function"!=typeof t)throw new Error(`Spica: Observation: Invalid listener: ${t}`);const r=()=>this.off(e,t,c.monitor),{items:i}=this.seekNode_(e);if(a(i,c.monitor,e,t))return r;if(i.length===this.settings.limit)throw new Error("Spica: Observation: Exceeded max listener limit.");return i.push({type:c.monitor,namespace:e,listener:t,options:{once:n}}),r}on(e,t,{once:n=!1}={}){if("function"!=typeof t)throw new Error(`Spica: Observation: Invalid listener: ${t}`);const r=()=>this.off(e,t),{items:i}=this.seekNode_(e);if(a(i,c.subscriber,e,t))return r;if(i.length===this.settings.limit)throw new Error("Spica: Observation: Exceeded max listener limit.");return i.push({type:c.subscriber,namespace:e,listener:t,options:{once:n}}),r}once(e,t){return this.on(e,t,{once:!0})}off(e,t,n=c.subscriber){switch(typeof t){case"function":return void this.seekNode_(e).items.some(({type:e,listener:r},i,o)=>{if(r!==t)return!1;if(e!==n)return!1;switch(i){case 0:return!void o.shift();case o.length-1:return!void o.pop();default:return!void o.splice(i,1)}});case"undefined":{const t=this.seekNode_(e);for(const n of t.childrenNames.slice()){this.off([...e,n]);const r=t.children.get(n);r&&(r.items.length+r.childrenNames.length>0||(t.children.delete(n),t.childrenNames.splice(o.findIndex(n,t.childrenNames),1)))}return void(t.items=t.items.filter(({type:e})=>e===c.monitor))}default:throw new Error("Spica: Observation: Unreachable.")}}emit(e,t,n){this.drain_(e,t,n)}reflect(e,t){let n=[];return this.emit(e,t,(e,t)=>n=t),n}relay(e){if(this.relaySources.has(e))return()=>void 0;this.relaySources.add(e);const t=e.monitor([],(e,t)=>void this.emit(t,e));return()=>(this.relaySources.delete(e),t())}drain_(e,t,n){const r=[];for(const{type:i,listener:o,options:{once:a}}of this.refsBelow_(this.seekNode_(e)))if(i===c.subscriber){a&&this.off(e,o);try{const i=o(t,e);n&&(r[r.length]=i)}catch(e){s.causeAsyncException(e)}}for(const{type:n,listener:r,options:{once:i}}of this.refsAbove_(this.seekNode_(e)))if(n===c.monitor){i&&this.off(e,r,c.monitor);try{r(t,e)}catch(e){s.causeAsyncException(e)}}if(n)try{n(t,r)}catch(e){s.causeAsyncException(e)}}refs(e){return this.refsBelow_(this.seekNode_(e))}refsAbove_({parent:e,items:t}){for(t=i.concat([],t);e;)t=i.concat(t,e.items),e=e.parent;return t}refsBelow_({childrenNames:e,children:t,items:n}){n=i.concat([],n);for(let r=0;r<e.length;++r){const s=e[r],c=this.refsBelow_(t.get(s));n=i.concat(n,c),0===c.length&&(t.delete(s),e.splice(o.findIndex(s,e),1),--r)}return n}seekNode_(e){let t=this.node_;for(const n of e){const{children:e}=t;e.has(n)||(t.childrenNames.push(n),e.set(n,{parent:t,children:new Map,childrenNames:[],items:[]})),t=e.get(n)}return t}}},{"./assign":4,"./concat":10,"./equal":13,"./exception":14}],77:[function(e,t,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0});const o=e("./concat");var s;!function(e){e[e.resolved=0]="resolved",e[e.rejected=1]="rejected"}(s||(s={}));const c=Symbol(),a=Symbol(),u=Symbol();class l{constructor(e){this[Symbol.toStringTag]="Promise",this[r]=[],this[i]=[];try{e(e=>{this[c][0]=this[c][0]||[0,e],this[u]()},e=>{this[c][0]=this[c][0]||[1,e],this[u]()})}catch(e){this[c][0]=[1,e],this[u]()}}static get[Symbol.species](){return l}static all(e){return e.reduce((e,t)=>e.then(e=>l.resolve(t).then(t=>o.concat(e,[t]))),l.resolve([]))}static race(e){return new l((t,n)=>{for(const r of e)l.resolve(r).then(t,n)})}static resolve(e){return new l(t=>void t(e))}static reject(e){return new l((t,n)=>void n(e))}[u](){if(!this[c][0])return;const[e,t]=this[c][0];for(;this[a].length>0;){const[n,r]=this[a].shift();switch(e){case 0:d(t)?t.then(n,r):n(t);continue;case 1:r(t);continue}}}then(e,t){return new l((n,r)=>{this[a].push([t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this[u]()})}catch(e){return this.then(void 0,e)}finally(e){return this.then(e,e).then(()=>this)}}function d(e){return!!e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}n.AtomicPromise=l,r=c,i=a},{"./concat":10}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./monad/sequence"))},{"./monad/sequence":28}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r="0".repeat(15);let i=0;n.sqid=function(e){if(arguments.length>0){if("number"!=typeof e)throw new TypeError(`Spica: sqid: A parameter value must be a number: ${e}`);if(e>=0==!1)throw new TypeError(`Spica: sqid: A parameter value must be a positive number: ${e}`);if(e%1!=0)throw new TypeError(`Spica: sqid: A parameter value must be an integer: ${e}`)}return void 0===e?(r+ ++i).slice(-15):(r+e).slice(-15)}},{}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./promise"),i=e("./future"),o=e("./observation"),s=e("./assign"),c=e("./clock"),a=e("./sqid"),u=e("./noop"),l=e("./exception");class d extends r.AtomicPromise{constructor(e={}){var t,n;if(super((e,o)=>(t=[e,o],n=new i.AtomicFuture,this.then===r.AtomicPromise.prototype.then?n:function*(){return n}())),this.state=new i.AtomicFuture,this.id=a.sqid(),this.settings={name:"",size:1/0,timeout:1/0,destructor:e=>void 0,scheduler:c.tick,resource:10},this.events_={init:new o.Observation,loss:new o.Observation,exit:new o.Observation},this.events=this.events_,this.workers=new Map,this.alive=!0,this.available=!0,this.scheduled=!1,this.scheduler=()=>void(0,this.settings.scheduler)(this.deliver),this.messages=[],this.deliver=()=>{if(!this.available)return;this.scheduled=!1;const e=Date.now();for(let t=0,n=this.messages.length;this.available&&t<n;++t){if(this.settings.resource-(Date.now()-e)<=0)return void this.schedule();const[r,i,o,s]=this.messages[t],c="string"==typeof r?[r]:r;let a;for(const e of c)if(a=this.workers.has(e)?this.workers.get(e).call([i,s]):void 0)break;if(!(void 0===a&&Date.now()<s))if(0===t?this.messages.shift():this.messages.splice(t,1),--t,--n,void 0===a){const e=c[Symbol.iterator]().next().value;this.events_.loss.emit([e],[e,i]);try{o(void 0,new Error("Spica: Supervisor: A process has failed."))}catch(e){l.causeAsyncException(e)}}else a.then(e=>void o(e),()=>void o(void 0,new Error("Spica: Supervisor: A process has failed.")))}},t||this.then(),this.state.then(...t),n.bind(this.state),s.extend(this.settings,e),this.name=this.settings.name,this.constructor===d)throw new Error(`Spica: Supervisor: <${this.id}/${this.name}>: Cannot instantiate abstract classes.`);this.constructor.instances.add(this)}static get instances(){return this.hasOwnProperty("instances_")?this.instances_:this.instances_=new Set}static get count(){return this.instances.size}static get procs(){return[...this.instances].reduce((e,t)=>e+t.workers.size,0)}static clear(e){for(;this.instances.size>0;)for(const t of this.instances)t.terminate(e)}destructor(e){for(this.available=!1,this.clear(e),Object.freeze(this.workers);this.messages.length>0;){const[e,t]=this.messages.shift(),n="string"==typeof e?[e]:[...e];this.events_.loss.emit([n[0]],[n[0],t])}Object.freeze(this.messages),this.alive=!1,this.constructor.instances.delete(this),Object.freeze(this),this.settings.destructor(e),this.state.bind(void 0===e?void 0:r.AtomicPromise.reject(e))}throwErrorIfNotAvailable(){if(!this.available)throw new Error(`Spica: Supervisor: <${this.id}/${this.name}>: A supervisor is already terminated.`)}register(e,t,n,r){if(this.throwErrorIfNotAvailable(),arguments.length>3)return this.kill(e,r),this.register(e,t,n);if("function"==typeof t)return this.register(e,{init:e=>e,main:t,exit:e=>void 0},n);if(this.workers.has(e))throw new Error(`Spica: Supervisor: <${this.id}/${this.name}/${e}>: Cannot register a process multiply with the same name.`);return this.schedule(),this.workers.set(e,new h(this,e,t,n,d.standalone.has(t),this.events_,()=>void this.workers.delete(e))).get(e).terminate}call(e,t,n=this.settings.timeout,r=this.settings.timeout){return this.call_("string"==typeof e?e:new f(this.workers,e),t,n,r)}call_(e,t,n,i){if("number"==typeof n)return new r.AtomicPromise((r,i)=>void this.call_(e,t,(e,t)=>t?i(t):r(e),n));for(this.messages.push([e,t,n,Date.now()+i]);this.messages.length>(this.available?this.settings.size:0);){const[e,t,n]=this.messages.shift(),r="string"==typeof e?[e]:[e[Symbol.iterator]().next().value];this.events_.loss.emit([r[0]],[r[0],t]);try{n(void 0,new Error(`Spica: Supervisor: <${this.id}/${this.name}>: A message overflowed.`))}catch(e){l.causeAsyncException(e)}}this.throwErrorIfNotAvailable(),this.schedule(),i<=0||i!==1/0&&setTimeout(()=>void this.schedule(),i+3)}cast(e,t,n=this.settings.timeout){const r=this.cast_("string"==typeof e?e:new f(this.workers,e),t,n);return void 0!==r&&(r.catch(u.noop),!0)}cast_(e,t,n){this.throwErrorIfNotAvailable();const r="string"==typeof e?[e]:e;let i;for(const e of r)if(i=this.workers.has(e)?this.workers.get(e).call([t,Date.now()+n]):void 0)break;if(void 0===i){const e=r[Symbol.iterator]().next().value;this.events_.loss.emit([e],[e,t])}return i}refs(e){return void 0===e?[...this.workers.values()].map(t):this.workers.has(e)?[t(this.workers.get(e))]:[];function t(e){return[e.name,e.process,e.state,e.terminate]}}kill(e,t){return!!this.available&&(!!this.workers.has(e)&&this.workers.get(e).terminate(t))}clear(e){for(;this.workers.size>0;)for(const[,t]of this.workers)t.terminate(e)}terminate(e){return!!this.available&&(this.destructor(e),!0)}schedule(){this.scheduled||0!==this.messages.length&&(c.tick(this.scheduler),this.scheduled=!0)}}n.Supervisor=d,d.standalone=new WeakSet;class f{constructor(e,t=(e=>e)){this.workers=e,this.selector=t}*[Symbol.iterator](){let e=0;for(const t of this.selector(this.workers.keys()))++e,yield t;0===e&&(yield"")}}class h{constructor(e,t,n,r,i,o,s){this.sv=e,this.name=t,this.process=n,this.state=r,this.events=o,this.destructor_=s,this.alive=!0,this.available=!0,this.initiated=!1,this.terminate=e=>!!this.alive&&(this.destructor(e),!0),i&&this.init()}destructor(e){this.alive=!1,this.available=!1,Object.freeze(this);try{this.destructor_()}catch(e){l.causeAsyncException(e)}this.initiated&&this.exit(e)}init(){this.initiated=!0,this.events.init.emit([this.name],[this.name,this.process,this.state]),this.state=this.process.init(this.state)}exit(e){try{this.process.exit(e,this.state),this.events.exit.emit([this.name],[this.name,this.process,this.state,e])}catch(t){this.events.exit.emit([this.name],[this.name,this.process,this.state,e]),this.sv.terminate(t)}}call([e,t]){const n=Date.now();if(this.available&&!(n>t))return new r.AtomicPromise((i,o)=>{isFinite(t)&&setTimeout(()=>void o(new Error),t-n),this.available=!1,this.initiated||this.init(),r.AtomicPromise.resolve(this.process.main(e,this.state,this.terminate)).then(i,o)}).then(e=>{const[t,n]=Array.isArray(e)?e:[e.reply,e.state];return this.alive&&(this.sv.schedule(),this.state=n,this.available=!0),t}).catch(e=>{throw this.sv.schedule(),this.terminate(e),e})}}},{"./assign":4,"./clock":8,"./exception":14,"./future":16,"./noop":75,"./observation":76,"./promise":77,"./sqid":79}],81:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throttle=function(e,t){let n=0,r=[];return i=>{r.push(i),n>0||(n=setTimeout(()=>{n=0,t(r[r.length-1],function(){const e=r;return r=[],e}())},e))}},n.debounce=function(e,t){let n=0,r=[];return i=>{r.push(i),n>0||(n=setTimeout(()=>{n=0,setTimeout(()=>{n>0||t(r[r.length-1],function(){const e=r;return r=[],e}())},e)},e))}}},{}],82:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tuple=function(e){return e}},{}],83:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=function(e){const t=Object.prototype.toString.call(e).split(" ").pop().slice(0,-1);return null===e||"object"!=typeof e&&e instanceof Object==!1?t.toLowerCase():t},n.isObject=function(e){return null!==e&&("object"==typeof e||e instanceof Object)}},{}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uncurry=e=>t=>e(...t)},{}],85:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const format_1=_dereq_("./url/domain/format");var format_2=_dereq_("./url/domain/format");exports.standardize=format_2.standardize;const global="undefined"!=typeof globalThis&&globalThis||eval("self"),location={get href(){return global.location&&global.location.href}};class URL{constructor(e,t=location.href){this.url=new global.URL(format_1.formatURLForEdge(e,t),t),Object.freeze(this)}get reference(){return this.url.href}get resource(){return`${this.origin}${this.path}`.replace(/\/?\??$|\/(?=\?)/,"")}get origin(){return`${this.protocol}//${this.host}`}get scheme(){return this.url.protocol.slice(0,-1)}get protocol(){return this.url.protocol}get host(){return this.url.host}get hostname(){return this.url.hostname}get port(){return this.url.port}get path(){return`${this.pathname}${this.query}`}get pathname(){return this.url.pathname}get query(){return this.url.search||!this.url.href.split("#",1)[0].includes("?")?this.url.search:"?"}get fragment(){return this.url.hash||!this.url.href.includes("#")?this.url.hash:"#"}}exports.URL=URL},{"./url/domain/format":86}],86:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const global="undefined"!=typeof globalThis&&globalThis||eval("self"),location={get href(){return global.location&&global.location.href}};var Identifier;function standardize(e,t=location.href){return encode(normalize(e,t))}function encode(e){return e.trim().replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[\uDC00-\uDFFF]/g,e=>2===e.length?e:"").replace(/%(?![0-9A-F]{2})|[^%\[\]]+/gi,encodeURI).replace(/\?[^#]+/,e=>"?"+e.slice(1).replace(/%[0-9A-F]{2}|[^=&]/gi,e=>e.length<3?encodeURIComponent(e):e)).replace(/%[0-9A-F]{2}/gi,e=>e.toUpperCase()).replace(/#.+/,e.slice(e.indexOf("#")).trim())}function normalize(e,t){return new global.URL(formatURLForEdge(e,t),t).href}function formatURLForEdge(e,t=location.href){return e.trim()||t}Identifier||(Identifier={}),exports.standardize=standardize,exports._encode=encode,exports.formatURLForEdge=formatURLForEdge},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";n.uuid=function(){let e="";for(let t=0;t<r.length;++t){const n=r[t];if("x"===n||"y"===n){const t=16*Math.random()|0;e+=("x"==n?t:3&t|8).toString(16)}else e+=n}return e}},{}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./src/dom/builder");n.Shadow=r.Shadow,n.HTML=r.HTML,n.SVG=r.SVG,n.API=r.API;var i=e("./src/dom/proxy");n.proxy=i.proxy;var o=e("./src/util/dom");n.frag=o.frag,n.shadow=o.shadow,n.html=o.html,n.svg=o.svg,n.text=o.text,n.define=o.define;var s=e("./src/util/listener");n.listen=s.listen,n.once=s.once,n.wait=s.wait,n.delegate=s.delegate,n.bind=s.bind,n.currentTargets=s.currentTargets;var c=e("./src/util/query");n.apply=c.apply},{"./src/dom/builder":89,"./src/dom/proxy":91,"./src/util/dom":92,"./src/util/listener":93,"./src/util/query":95}],89:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./proxy"),i=e("../util/dom");function o(e,t=(e=>e)){return new Proxy(()=>void 0,function(e,t){return{apply(e,t,[n,...r]){return this.get(e,n,void 0)(...r)},get:(n,o)=>n[o]||o in n||"string"!=typeof o?n[o]:n[o]=function(e,n){return function s(c,a,u){if("function"==typeof c)return s(void 0,void 0,c);if("function"==typeof a)return s(c,void 0,a);if(void 0!==c&&function(e){return"object"!=typeof e||Object.values(e).slice(-1).every(e=>"object"==typeof e)}(c))return s(void 0,c,u);const l=t(function(t,r,s){const c=t(n,e,r,s);if(e!==c.tagName.toLowerCase())throw new Error(`TypedDOM: Expected tag name is "${e}" but actually "${c.tagName.toLowerCase()}".`);if(t!==o){for(const[e,t]of Object.entries(r))"function"==typeof t&&c.removeEventListener(e,t);i.define(c,r)}return c}(u||o,c||{},a));return l instanceof Element?new r.Elem(l,a):new r.Elem(l.host,a,l)};function o(e,t,n){return e(t,n)}}(o,e)}}(e,t))}n.API=o,n.Shadow=o(i.html,i.shadow),n.HTML=o(i.html),n.SVG=o(i.svg)},{"../util/dom":92,"./proxy":91}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/uuid"),i=e("spica/sqid"),o=r.uuid().slice(-7);n.uid=function(){return`id-${o}-${+i.sqid()}`}},{"spica/sqid":79,"spica/uuid":87}],91:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./identity"),i=e("../util/dom");var o;!function(e){e.Void="void",e.Text="text",e.Collection="collection",e.Record="record"}(o||(o={}));const s=new WeakMap;function c(e){if(!s.has(e))throw new Error("TypedDOM: This element has no proxy.");return s.get(e)}n.proxy=c;Symbol();function a({element:e}){if(e.parentElement&&s.has(e.parentElement))throw new Error("TypedDOM: Typed DOM children can't be used to another typed DOM.")}n.Elem=class{constructor(e,t,n=e){switch(this.element=e,this.children_=t,this.container=n,this.id_=this.element.id.trim(),!0){case void 0===t:this.type=o.Void;break;case"string"==typeof t:this.type=o.Text;break;case Array.isArray(t):this.type=o.Collection;break;case t&&"object"==typeof t:this.type=o.Record;break;default:throw new Error("TypedDOM: Invalid type children.")}switch(a(this),s.set(this.element,this),this.type){case o.Void:return void(this.initialChildren=new WeakSet);case o.Text:return this.initialChildren=new WeakSet,i.define(this.container,[]),this.children_=this.container.appendChild(i.text("")),void(this.children=t);case o.Collection:return this.initialChildren=new WeakSet(t),i.define(this.container,[]),this.children_=[],void(this.children=t);case o.Record:return this.initialChildren=new WeakSet(Object.values(t)),i.define(this.container,[]),this.children_=(r=this.container,c=Object.assign({},t),Object.defineProperties(c,Object.entries(c).reduce((e,[t,n])=>(a(n),r.appendChild(n.element),e[t]={configurable:!0,enumerable:!0,get:()=>n,set:e=>{const t=n;e!==t&&(e.element.parentElement!==r&&a(e),r.replaceChild(e.element,t.element),n=e)}},e),{}))),void(this.children=t);default:throw new Error("TypedDOM: Unreachable code.")}var r,c}get id(){return this.id_?this.id_:(this.id_=r.uid(),this.element.classList.add(this.id_),this.id_)}get query(){switch(!0){case this.element!==this.container:return":host";case this.id===this.element.id.trim():return`#${this.id}`;default:return`.${this.id}`}}scope(e){if(!(e.element instanceof HTMLStyleElement))return;const t=/^(\s*)\$scope(?!\w)/gm,n=e.element,r=this.query;if(-1!==n.innerHTML.search(t)){switch(n.innerHTML=n.innerHTML.replace(t,(e,t)=>`${t}${r}`),r[0]){case".":{const e=r.slice(1);if(!n.classList.contains(e))break;n.classList.add(e);break}}if(0!==n.children.length)for(const e of n.querySelectorAll("*"))e.remove()}}get children(){switch(this.type){case o.Text:return this.children_=this.children_.parentNode===this.container?this.children_:[...this.container.childNodes].find(e=>e instanceof Text)||this.children_.cloneNode(),this.children_.textContent;default:return this.children_}}set children(e){const t=new Set,n=new Set;switch(this.type){case o.Void:return;case o.Text:{if(e===this.children&&!this.initialChildren.has(this.children_))return;const t=this.children_,n=t.textContent,r=e;if(t.textContent=r,r===n)return;return void this.element.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))}case o.Collection:{const r=e,i=[];this.children_=i;const o=new WeakSet;for(let e=0;e<r.length;++e){const t=r[e];if(o.has(t))throw new Error("TypedDOM: Typed DOM children can't repeatedly be used to the same object.");o.add(t),t.element.parentNode!==this.container&&a(t),t.element===this.container.children[e]?i.push(t):(t.element.parentNode!==this.container&&(this.scope(t),n.add(t)),this.container.insertBefore(t.element,this.container.children[e]),i.push(t))}Object.freeze(i);for(let e=this.container.children.length;e>=r.length;--e)s.has(this.container.children[e])&&t.add(c(this.container.removeChild(this.container.children[e])));break}case o.Record:{const r=e,i=this.children_,o=new WeakSet;for(const e in i){const s=i[e],c=r[e];if(c){if(o.has(c))throw new Error("TypedDOM: Typed DOM children can't repeatedly be used to the same object.");o.add(c),c.element.parentNode!==this.container&&a(c),(s.element!==c.element||this.initialChildren.has(s))&&(this.scope(c),n.add(c),t.add(s)),i[e]=r[e]}}break}}for(const e of t)this.initialChildren.has(e)||e.element.dispatchEvent(new Event("disconnect",{bubbles:!1,cancelable:!0}));for(const e of n)e.element.dispatchEvent(new Event("connect",{bubbles:!1,cancelable:!0}));t.size+n.size>0&&this.element.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))}}},{"../util/dom":92,"./identity":90}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=new WeakMap;var i,o;function s(e){const t=i.text.cloneNode();return t.data=e,t}function c(e,t,n={},r=[]){const o=`${e}:${t}`,s=t.includes("-")?a(e,t):i.elem.has(o)?i.elem.get(o).cloneNode(!0):i.elem.set(o,a(e,t)).get(o).cloneNode(!0);return u(s,n,r),s}function a(e,t){switch(e){case 0:return document.createElement(t);case 1:return document.createElementNS("http://www.w3.org/2000/svg",t)}}function u(e,t={},n){if(l(t))return u(e,void 0,t);if("string"==typeof n)return u(e,t,[s(n)]);if(Object.entries(t).forEach(([t,n])=>{switch(typeof n){case"string":return void e.setAttribute(t,n);case"function":return void e.addEventListener(t.slice(2),n,{passive:["wheel","mousewheel","touchstart","touchmove"].includes(t.slice(2))});case"object":return void e.removeAttribute(t);default:return}}),n){for(e.innerHTML="";e.firstChild;)e.removeChild(e.firstChild);e.append(...n)}return e}function l(e){return!!e[Symbol.iterator]}!function(e){e.elem=new Map,e.text=document.createTextNode(""),e.frag=document.createDocumentFragment()}(i||(i={})),n.frag=function(e=[]){e="string"==typeof e?[s(e)]:e;const t=i.frag.cloneNode();return t.append(...e),t},n.shadow=function e(t,n,i){return n&&!l(n)?e(t,void 0,n):t.shadowRoot||r.has(t)?u(i?"open"===i.mode?t.shadowRoot||t.attachShadow(i):r.get(t)||r.set(t,t.attachShadow(i)).get(t):t.shadowRoot||r.get(t),n):u(i&&"open"!==i.mode?r.set(t,t.attachShadow(i)).get(t):t.attachShadow({mode:"open"}),void 0===n?t.childNodes:n)},n.html=function(e,t={},n=[]){return c(0,e,t,n)},n.svg=function(e,t={},n=[]){return c(1,e,t,n)},n.text=s,function(e){e[e.HTML=0]="HTML",e[e.SVG=1]="SVG"}(o||(o={})),n.define=u},{}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./noop");function i(e,t,n,r=!1,i={}){return"string"==typeof n?o(e,t,n,r,Object.assign(Object.assign({},"boolean"==typeof i?{capture:i}:i),{once:!0})):s(e,t,n,Object.assign(Object.assign({},"boolean"==typeof r?{capture:r}:r),{once:!0}))}function o(e,t,n,r,o={}){return s(e instanceof Document?e.documentElement:e,n,e=>{const s=(e.target.shadowRoot&&e.composedPath()[0]||e.target).closest(t);return s instanceof Element&&i(s,n,r,o),e.returnValue},Object.assign(Object.assign({},o),{capture:!0}))}function s(e,t,i,o=!1){e.addEventListener(t,c,o);let s=()=>(s=r.noop,void e.removeEventListener(t,c,o));return()=>void s();function c(e){return n.currentTargets.set(e,e.currentTarget),i(e)}}n.currentTargets=new WeakMap,n.listen=function(e,t,n,r=!1,i={}){return"string"==typeof n?o(e,t,n,r,i):s(e,t,n,r)},n.once=i,n.wait=function(e,t,n=!1,r={}){return new Promise(o=>"string"==typeof n?void i(e,t,n,o,r):void i(e,t,o,n))},n.delegate=o,n.bind=s},{"./noop":94}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noop=function(){}},{}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./dom");n.apply=function(e,t,n){const i=e.querySelectorAll(t);for(const e of i)r.define(e,n);return i}},{"./dom":92}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./layer/interface/service/gui");n.default=r.GUI;var i=e("./layer/interface/service/gui");n.Pjax=i.GUI;var o=e("./lib/router");n.router=o.router},{"./layer/interface/service/gui":125,"./lib/router":135}],97:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../domain/router/api");var i=e("../domain/event/router");n.RouterEvent=i.RouterEvent,n.RouterEventType=i.RouterEventType,n.RouterEventSource=i.RouterEventSource;var o=e("../domain/data/config");n.Config=o.Config,n.scope=o.scope,n.route=function(e,t,n,i){return r.route(new r.RouterEntity(e,t,new r.RouterEntityState(n.process,n.scripts)),i)}},{"../domain/data/config":100,"../domain/event/router":102,"../domain/router/api":103}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../domain/store/path");n.loadTitle=r.loadTitle,n.savePosition=r.savePosition},{"../domain/store/path":119}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/assign");function i(){window.history.replaceState(r.extend(window.history.state||{},{title:document.title}),document.title)}function o(){window.history.replaceState(r.extend(window.history.state||{},{position:{top:window.pageYOffset,left:window.pageXOffset}}),document.title)}i(),o(),n.loadTitle=function(){return window.history.state&&window.history.state.title||document.title},n.saveTitle=i,n.loadPosition=function(){return window.history.state&&window.history.state.position||{top:window.pageYOffset,left:window.pageXOffset}},n.savePosition=o},{"spica/assign":4}],100:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("spica/assign");var o=e("./config/scope");n.scope=o.scope;n.Config=class{constructor(e){this.areas=["body"],this.link="a",this.form="form:not([method])",this.replace="",this.fetch={rewrite:e=>e,cache:(e,t)=>"",headers:new Headers,timeout:3e3,wait:0},this.update={rewrite:(e,t)=>void 0,head:"base, meta, link",css:!0,script:!0,ignore:"",ignores:{extension:'[href^="chrome-extension://"]',security:'[src*=".scr.kaspersky-labs.com/"]'},reload:"",logger:""},this.sequence=new s,this.progressbar="display:none;position:absolute;bottom:0;left:0;width:0;height:2px;background:rgb(40, 105, 255);",this.scope={},Object.defineProperties(this.update,{ignore:{enumerable:!1,set(e){this.ignores._=e},get(){return Object.keys(this.ignores).map(e=>this.ignores[e]).filter(e=>e.trim().length>0).join(",")}}}),i.extend(this,e),this.fetch.headers=new Headers(this.fetch.headers),Object.freeze(this),this.fetch.headers.set("X-Requested-With","XMLHttpRequest"),this.fetch.headers.set("X-Pjax","1")}filter(e){return e.matches(":not([target])")}fallback(e,t){if(e instanceof HTMLAnchorElement)window.location.assign(e.href);else if(e instanceof HTMLFormElement)window.location.assign(e.action);else{if(!(e instanceof Window))throw t;window.location.reload(!0)}}};class s{fetch(){return r(this,void 0,void 0,function*(){return"fetch"})}unload(){return r(this,void 0,void 0,function*(){return"unload"})}content(){return r(this,void 0,void 0,function*(){return"content"})}ready(){return r(this,void 0,void 0,function*(){return"ready"})}load(){return r(this,void 0,void 0,function*(){})}}},{"./config/scope":101,"spica/assign":4}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../../lib/router"),i=e("../../../domain/data/config"),o=e("spica/sequence"),s=e("spica/maybe"),c=e("spica/assign");n.scope=function(e,t){const n=Object.assign({"/":{}},e.scope);return o.Sequence.from(Object.keys(n).sort().reverse()).dropWhile(e=>!r.compare(e,t.orig)&&!r.compare(e,t.dest)).take(1).filter(e=>!!r.compare(e,t.orig)&&r.compare(e,t.dest)).map(e=>n[e]).map(t=>t?s.Just(new i.Config(c.extend({},e,t))):s.Nothing).extract().reduce((e,t)=>t,s.Nothing)}},{"../../../../lib/router":135,"../../../domain/data/config":100,"spica/assign":4,"spica/maybe":18,"spica/sequence":78}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../lib/dom"),i=e("spica/url"),o=e("typed-dom");var s,c;n.RouterEvent=class{constructor(e){this.original=e,this.type=this.original.type.toLowerCase(),this.source=o.currentTargets.get(this.original),this.request=new a(this.source),this.location=new u(this.request.url),Object.freeze(this)}},function(e){e.Anchor=HTMLAnchorElement,e.Form=HTMLFormElement,e.Window=window.Window}(s=n.RouterEventSource||(n.RouterEventSource={})),function(e){e.click="click",e.submit="submit",e.popstate="popstate"}(n.RouterEventType||(n.RouterEventType={})),function(e){e.GET="GET",e.POST="POST"}(c=n.RouterEventMethod||(n.RouterEventMethod={}));class a{constructor(e){this.source=e,this.method=(()=>{if(this.source instanceof s.Anchor)return c.GET;if(this.source instanceof s.Form)return this.source.method.toUpperCase()===c.POST?c.POST:c.GET;if(this.source instanceof s.Window)return c.GET;throw new TypeError})(),this.url=(()=>{if(this.source instanceof s.Anchor)return new i.URL(i.standardize(this.source.href));if(this.source instanceof s.Form)return this.source.method.toUpperCase()===c.GET?new i.URL(i.standardize(this.source.action.split(/[?#]/)[0]+`?${r.serialize(this.source)}`)):new i.URL(i.standardize(this.source.action.split(/[?#]/)[0]));if(this.source instanceof s.Window)return new i.URL(i.standardize(window.location.href));throw new TypeError})(),this.body=(()=>this.source instanceof s.Form&&this.method===c.POST?new FormData(this.source):null)(),Object.freeze(this)}}n.RouterEventRequest=a;class u{constructor(e){this.dest=e,this.orig=new i.URL(i.standardize(window.location.href)),Object.freeze(this)}}n.RouterEventLocation=u},{"../../../lib/dom":132,"spica/url":85,"typed-dom":88}],103:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("./module/fetch"),o=e("./module/update"),s=e("./module/update/content"),c=e("../store/path"),a=e("spica/either");var u=e("./model/eav/entity");n.RouterEntity=u.RouterEntity,n.RouterEntityState=u.RouterEntityState,n.route=function(e,t){return r(this,void 0,void 0,function*(){return a.Right(void 0).bind(e.state.process.either).bind(()=>!function(e,t){return s.separate({src:e,dst:e},t).extract(()=>!1,()=>!0)}(t.document,e.config.areas)?a.Left(new Error("Failed to match areas.")):a.Right(void 0)).fmap(()=>i.fetch(e.event.request,e.config,e.state.process)).fmap(n=>r(this,void 0,void 0,function*(){return(yield n).fmap(([n,r])=>o.update(e,n,r,{document:t.document,position:c.loadPosition})).extract(a.Left)})).extract(a.Left)})}},{"../store/path":119,"./model/eav/entity":104,"./module/fetch":106,"./module/update":108,"./module/update/content":110,"spica/either":12}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.RouterEntity=class{constructor(e,t,n){this.config=e,this.event=t,this.state=n,Object.freeze(this)}};n.RouterEntityState=class{constructor(e,t){this.process=e,this.scripts=t,Object.freeze(this)}}},{}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../../../../lib/html"),i=e("spica/url");n.FetchResponse=class{constructor(e,t){if(this.url=e,this.xhr=t,this.header=e=>this.xhr.getResponseHeader(e),this.document="document"===this.xhr.responseType?this.xhr.responseXML.cloneNode(!0):r.parse(this.xhr.responseText).extract(),e.origin!==new i.URL(t.responseURL).origin)throw new Error("Redirected to another origin.");Object.defineProperty(this.document,"URL",{configurable:!0,enumerable:!0,value:e.reference,writable:!1}),r.fix(this.document),Object.freeze(this)}}},{"../../../../../../lib/html":134,"spica/url":85}],106:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../module/fetch/xhr"),o=e("spica/clock");n.fetch=function({method:e,url:t,body:n},{fetch:{rewrite:s,cache:c,headers:a,timeout:u,wait:l},sequence:d},f){return r(this,void 0,void 0,function*(){window.dispatchEvent(new Event("pjax:fetch"));const[r,h]=yield Promise.all([d.fetch(void 0,{path:t.path,method:e,headers:a,body:n}),i.xhr(e,t,a,n,u,s,c,f),o.wait(l)]);return h.bind(f.either).fmap(e=>[e,r])})}},{"../module/fetch/xhr":107,"spica/clock":8}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../model/eav/value/fetch"),i=e("spica/promise"),o=e("spica/sequence"),s=e("spica/either"),c=e("spica/cache"),a=e("spica/url"),u=new c.Cache(99),l=new c.Cache(99);function d(e,t){return o.Sequence.intersect(o.Sequence.from(n(e||"").sort()),o.Sequence.from(n(t).sort()),(e,t)=>e.localeCompare(t)).take(1).extract().length>0;function n(e){return e.split(/\s*;\s*/).filter(e=>e.length>0)}}n.xhr=function(e,t,n,o,c,f,h,p){(n=new Headers(n)).set("Accept",n.get("Accept")||"text/html");const m=new a.URL(a.standardize(f(t.path)));"GET"===e&&l.has(m.path)&&Date.now()>l.get(m.path).expiry&&n.set("If-None-Match",n.get("If-None-Match")||l.get(m.path).etag);const v="GET"===e&&h(m.path,n)||void 0;return new i.AtomicPromise(i=>{if(v&&u.has(v))return i(s.Right(u.get(v)(t,m)));const f=new XMLHttpRequest;f.open(e,m.path,!0);for(const[e,t]of n)f.setRequestHeader(e,t);f.responseType=window.navigator.userAgent.includes("Edge")?"text":"document",f.timeout=c,f.send(o),f.addEventListener("abort",()=>void i(s.Left(new Error("Failed to request a page by abort.")))),f.addEventListener("error",()=>void i(s.Left(new Error("Failed to request a page by error.")))),f.addEventListener("timeout",()=>void i(s.Left(new Error("Failed to request a page by timeout.")))),f.addEventListener("load",()=>void function(e,t){return s.Right(e).bind(e=>{const n=new a.URL(a.standardize(e.responseURL));switch(!0){case!e.responseURL:return s.Left(new Error("Failed to get the response URL."));case n.origin!==new a.URL(window.location.origin).origin:return s.Left(new Error("Redirected to another origin."));case!/2..|304/.test(`${e.status}`):return s.Left(new Error("Failed to validate the status of response."));case!e.response:return"GET"===t&&304===e.status&&l.has(n.path)?s.Right(l.get(n.path).xhr):s.Left(new Error("Failed to get the response body."));case!d(e.getResponseHeader("Content-Type"),"text/html"):return s.Left(new Error("Failed to validate the content type of response."));default:return s.Right(e)}})}(f,e).fmap(t=>{const n=new a.URL(a.standardize(t.responseURL));if("GET"===e){const e=new Map(t.getResponseHeader("Cache-Control")?t.getResponseHeader("Cache-Control").trim().split(/\s*,\s*/).filter(e=>e.length>0).map(e=>e.split("=").concat("")):[]);for(const r of new Set([m.path,n.path]))t.getResponseHeader("ETag")&&!e.has("no-store")?l.set(r,{etag:t.getResponseHeader("ETag"),expiry:e.has("max-age")&&!e.has("no-cache")&&Date.now()+1e3*+e.get("max-age")||0,xhr:t}):l.delete(r)}return(e,i)=>new r.FetchResponse(n.path===i.path?e:i.path!==m.path&&v?e:n,t)}).fmap(e=>(v&&u.set(v,e),e(t,m))).extract(e=>void i(s.Left(e)),e=>void i(s.Right(e)))),p.register(()=>void f.abort())})},n.match_=d},{"../../model/eav/value/fetch":105,"spica/cache":5,"spica/either":12,"spica/promise":77,"spica/sequence":78,"spica/url":85}],108:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../../event/router"),o=e("../module/update/blur"),s=e("../module/update/url"),c=e("../module/update/title"),a=e("../module/update/head"),u=e("../module/update/content"),l=e("../module/update/css"),d=e("../module/update/script"),f=e("../module/update/focus"),h=e("../module/update/scroll"),p=e("../../store/path"),m=e("spica/promise"),v=e("spica/either"),b=e("spica/hlist");n.update=function({event:e,config:t,state:n},y,g,w){const{process:_}=n,S={src:y.document,dst:w.document};return m.AtomicPromise.resolve(g).then(_.either).then(e=>e.bind(()=>u.separate(S,t.areas).extract(()=>v.Left(new Error("Failed to separate the areas.")),()=>e)).fmap(e=>(window.dispatchEvent(new Event("pjax:unload")),t.sequence.unload(e,Object.assign(Object.assign({},y),{url:y.url.reference}))))).then(e=>v.Either.sequence(e)).then(_.promise).then(e=>e.bind(e=>u.separate(S,t.areas).fmap(([t])=>[e,t]).extract(()=>v.Left(new Error("Failed to separate the areas.")),_.either)).bind(([e,n])=>(t.update.rewrite(S.src,n),u.separate(S,t.areas).fmap(([,t])=>[e,t]).extract(()=>v.Left(new Error("Failed to separate the areas.")),_.either)))).then(_.promise).then(g=>g.fmap(([g,q])=>b.HNil.extend(()=>(o.blur(S.dst),s.url(new i.RouterEventLocation(y.url),S.src.title,e.type,e.source,t.replace),c.title(S),p.saveTitle(),a.head(S,t.update.head,t.update.ignore),_.either(u.content(S,q)).fmap(([e,t])=>[e,m.AtomicPromise.all(t)]))).extend(i=>r(this,void 0,void 0,function*(){return(yield i).fmap(([i])=>r(this,void 0,void 0,function*(){t.update.css&&l.css(S,t.update.ignore),w.document.dispatchEvent(new Event("pjax:content"));const r=yield t.sequence.content(g,i),o=t.update.script?yield d.script(S,n.scripts,t.update,10*Math.max(t.fetch.timeout,1e3),_):yield _.either([[],m.AtomicPromise.resolve(_.either([]))]);return f.focus(e.type,S.dst),h.scroll(e.type,S.dst,{hash:e.location.dest.fragment,position:w.position}),p.savePosition(),w.document.dispatchEvent(new Event("pjax:ready")),[o.fmap(([e,t])=>[e,t.then(e=>e.extract())]),yield t.sequence.ready(r)]})).fmap(e=>e.then(([e,t])=>e.fmap(e=>[e,t]))).extract(e=>m.AtomicPromise.resolve(v.Left(e)))})).reverse())).then(_.promise).then(e=>e.fmap(([e,n])=>(m.AtomicPromise.all([e,n]).then(([e,n])=>e.bind(([,e])=>n.fmap(([[,n],r])=>void m.AtomicPromise.all([e,n]).then(_.either).then(e=>e.fmap(([e])=>(window.dispatchEvent(new Event("pjax:load")),void t.sequence.load(r,e))).extract(()=>void 0)))).extract(()=>void 0)),n))).then(e=>v.Either.sequence(e).then(e=>e.join())).then(e=>e.fmap(([e])=>e))}},{"../../event/router":102,"../../store/path":119,"../module/update/blur":109,"../module/update/content":110,"../module/update/css":111,"../module/update/focus":112,"../module/update/head":113,"../module/update/script":114,"../module/update/scroll":115,"../module/update/title":117,"../module/update/url":118,"spica/either":12,"spica/hlist":17,"spica/promise":77}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.blur=function(e){e===window.document&&e.activeElement!==e.body&&(e.activeElement.blur(),e.body.focus())}},{}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../../../lib/dom"),i=e("./script"),o=e("spica/promise"),s=e("spica/maybe"),c=e("spica/concat"),a=e("typed-dom");function u(e){return(e.match(/(?:[^,\(\[]+|\(.*?\)|\[.*?\])+/g)||[]).map(e=>e.trim())}function l(e){return o.AtomicPromise.race([new o.AtomicPromise(t=>void a.once(e,"load",t)),new o.AtomicPromise(t=>void a.once(e,"abort",t)),new o.AtomicPromise(t=>void a.once(e,"error",t))])}n.content=function(e,t,n={replace:(e,t)=>void t.parentNode.replaceChild(e,t)}){return[t.map(e=>e.dst).reduce(c.concat,[]),t.map(function(t){return t.src.map((n,r)=>({src:e.dst.importNode(t.src[r].cloneNode(!0),!0),dst:t.dst[r]})).map(e=>(!function(e){const t=r.find(e.src,"script").map(i.escape).reduce((e,t)=>()=>(e(),void t()),()=>void 0);n.replace(e.src,e.dst),t()}(e),r.find(e.src,"img, iframe, frame").map(l))).reduce(c.concat,[])}).reduce(c.concat,[])]},n.separate=function(e,t){return t.reduce((t,n)=>s.Maybe.mplus(t,function(e,t){return u(t).map(t=>({src:r.find(e.src,t),dst:r.find(e.dst,t)})).reduce((e,t)=>e.bind(e=>(function(e){return s.Just(e).guard(function(e){return e.src.length>0&&e.src.length===e.dst.length}(e))})(t).fmap(t=>c.concat(e,[t]))),s.Just([]))}(e,n).fmap(e=>[n,e])),s.Nothing)},n._split=u,n._wait=l},{"../../../../../lib/dom":132,"./script":114,"spica/concat":10,"spica/maybe":18,"spica/promise":77,"typed-dom":88}],111:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../../../lib/dom"),i=e("./sync");n.css=function(e,t){const n='link[rel~="stylesheet"], style';return void["head","body"].map(t=>[e.src.querySelector(t),e.dst.querySelector(t)]).forEach(([e,t])=>void i.sync(i.pair(o(e),o(t),(e,t)=>e.outerHTML===t.outerHTML),t));function o(e){return r.find(e,n).filter(e=>!e.matches(t.trim()||"_"))}}},{"../../../../../lib/dom":132,"./sync":116}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../event/router"),i=e("../../../../../lib/dom");n.focus=function(e,t){switch(e){case r.RouterEventType.click:case r.RouterEventType.submit:return void i.find(t,"[autofocus]").slice(-1).filter(e=>e.closest("html")===window.document.documentElement&&e!==t.activeElement).forEach(e=>void e.focus());case r.RouterEventType.popstate:return;default:throw new TypeError(e)}}},{"../../../../../lib/dom":132,"../../../event/router":102}],113:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./sync"),i=e("../../../../../lib/dom");n.head=function(e,t,n){return n+=t.includes("link")?', link[rel~="stylesheet"]':"",void r.sync(r.pair(o(e.src.head),o(e.dst.head),(e,t)=>e.outerHTML===t.outerHTML),e.dst.head);function o(e){return i.find(e,t).filter(e=>!e.matches(n.trim()||"_"))}}},{"../../../../../lib/dom":132,"./sync":116}],114:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../../../../../lib/dom"),o=e("../../../../../lib/error"),s=e("spica/promise"),c=e("spica/either"),a=e("spica/url"),u=e("spica/tuple"),l=e("spica/concat"),d=e("spica/clock"),f=e("typed-dom");function h(e,t){return r(this,void 0,void 0,function*(){return e.hasAttribute("src")?"module"===e.type.toLowerCase()?c.Right([e,""]):s.AtomicPromise.race([window.fetch(e.src,{headers:new Headers({Accept:"application/javascript"}),integrity:e.integrity}),d.wait(t).then(()=>s.AtomicPromise.reject(new Error(`${e.src}: Timeout.`)))]).then(t=>r(this,void 0,void 0,function*(){return t.ok?c.Right([e,yield t.text()]):e.matches("[src][async]")?v(e).then(()=>c.Right([e,""]),()=>c.Left(new Error(`${e.src}: ${t.statusText}`))):c.Left(new Error(t.statusText))}),e=>c.Left(e)):c.Right([e,e.text])})}function p(t,n,r,i,u,l){const d=!!(t=t.ownerDocument===document?t:document.importNode(t.cloneNode(!0),!0)).parentElement&&t.parentElement.matches(r.trim()||"_"),f=document.querySelector(d?t.parentElement.id?`#${t.parentElement.id}`:t.parentElement.tagName:"_")||document.body,h=m(t);f.appendChild(t),h(),!d&&t.remove();const p=s.AtomicPromise.resolve(u).then(function(){if(l.canceled)throw new o.FatalError("Expired.");if(t.matches('[type="module"][src]'))return s.AtomicPromise.resolve(Promise.resolve().then(()=>e(t.src))).catch(e=>e.message.startsWith("Failed to load ")&&t.matches("[src][async]")?v(t).catch(()=>s.AtomicPromise.reject(e)):s.AtomicPromise.reject(e)).then(()=>(t.dispatchEvent(new Event("load")),c.Right(t)),e=>(t.dispatchEvent(new Event("error")),c.Left(new o.FatalError(e instanceof Error?e.message:e+""))));try{if(i.has(new a.URL(a.standardize(window.location.href)).reference))throw new o.FatalError("Expired.");return(0,eval)(n),t.hasAttribute("src")&&t.dispatchEvent(new Event("load")),s.AtomicPromise.resolve(c.Right(t))}catch(e){return t.hasAttribute("src")&&t.dispatchEvent(new Event("error")),s.AtomicPromise.resolve(c.Left(new o.FatalError(e instanceof Error?e.message:e+"")))}});return t.matches("[src][async]")?c.Right(p):c.Left(p)}function m(e){const t=e.hasAttribute("src")?e.getAttribute("src"):null,n=e.text;return e.removeAttribute("src"),e.text="",()=>(e.text=" ",e.text=n,"string"==typeof t?void e.setAttribute("src",t):void 0)}function v(e){return new a.URL(a.standardize(e.src)).origin===new a.URL(a.standardize(window.location.href)).origin?s.AtomicPromise.reject(new Error):(e=f.html("script",Object.values(e.attributes).reduce((e,{name:t,value:n})=>(e[t]=n,e),{}),[...e.childNodes]),new s.AtomicPromise((t,n)=>(e.addEventListener("load",()=>void t()),e.addEventListener("error",n),document.body.appendChild(e),void e.remove())))}n.script=function(e,t,n,o,d,f={fetch:h,evaluate:p}){const m=i.find(e.src,"script").filter(e=>!e.type||/(?:application|text)\/(?:java|ecma)script|module/i.test(e.type)).filter(e=>!e.matches(n.ignore.trim()||"_")).filter(e=>!e.hasAttribute("src")||(!t.has(new a.URL(a.standardize(e.src)).reference)||e.matches(n.reload.trim()||"_"))),{ss:v,as:b}=m.reduce((e,t)=>{switch(!0){case t.matches("[src][async], [src][defer]"):e.as.push(t);break;default:e.ss.push(t)}return e},{ss:[],as:[]});return s.AtomicPromise.all([s.AtomicPromise.all(y(v)).then(g),s.AtomicPromise.all(y(b)).then(g)]).then(([e,t])=>r(this,void 0,void 0,function*(){return e.fmap(e=>r(this,void 0,void 0,function*(){return(yield e).fmap(([e,n])=>[e,n.then(e=>r(this,void 0,void 0,function*(){return t.fmap(t=>r(this,void 0,void 0,function*(){return(yield t).fmap(([t,n])=>s.AtomicPromise.all([e,c.Right(t),n]).then(e=>e.reduce((e,t)=>e.bind(e=>t.fmap(t=>l.concat(e,t)))))).extract(c.Left)})).extract(c.Left)}))])})).extract(c.Left)}));function y(e){return e.map(e=>f.fetch(e,o))}function g(e){return e.reduce((e,t)=>t.bind(()=>e),e.reduce((e,r)=>e.bind(d.either).bind(([e,i])=>r.fmap(([r,i])=>f.evaluate(r,i,n.logger,t,s.AtomicPromise.all(e),d)).bind(t=>t.extract(t=>c.Right(u.tuple([l.concat(e,[t]),i])),t=>c.Right(u.tuple([e,l.concat(i,[t])]))))),c.Right([[],[]]))).fmap(([e,t])=>s.AtomicPromise.all(e).then(e=>c.Either.sequence(e)).then(e=>e.fmap(e=>u.tuple([e,Promise.all(t).then(e=>c.Either.sequence(e))]))))}},n._fetch=h,n._evaluate=p,n.escape=m},{"../../../../../lib/dom":132,"../../../../../lib/error":133,"spica/clock":8,"spica/concat":10,"spica/either":12,"spica/promise":77,"spica/tuple":82,"spica/url":85,"typed-dom":88}],115:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../event/router");function i(e,t,n={scrollToElement:e=>void e.scrollIntoView()}){const r=t.slice(1);if(0===r.length)return!1;const i=e.getElementById(r)||e.getElementsByName(r)[0];return!!i&&(n.scrollToElement(i),!0)}n.scroll=function(e,t,n,o={scrollToElement:e=>void e.scrollIntoView(),scrollToPosition:({top:e,left:t})=>void window.scrollTo(t,e),hash:i}){switch(e){case r.RouterEventType.click:if(o.hash(t,n.hash,o))return;return void o.scrollToPosition({top:0,left:0});case r.RouterEventType.submit:return void o.scrollToPosition({top:0,left:0});case r.RouterEventType.popstate:return void o.scrollToPosition(n.position());default:throw new TypeError(e)}},n._hash=i},{"../../../event/router":102}],116:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/either"),i=e("spica/concat");function o(e,t,n){t.map(t=>e.ownerDocument.importNode(t.cloneNode(!0),!0)).forEach(t=>void e.insertBefore(t,n))}function s(e){e.remove()}n.sync=function(e,t,n={before:o,remove:s}){return void e.forEach(([e,r])=>(n.before(function(e){return e?e.parentElement:t}(r),e.slice(-1).some(e=>!!r&&e.outerHTML===r.outerHTML)?e.slice(0,-1):e,r),r&&0===e.length?void n.remove(r):void 0))},n.pair=function(e,t,n){const o=function(e,t,n){return e.reduce((e,o)=>0===t.length?e.set(null,i.concat(e.get(null)||[],[o])):t.reduce((e,t)=>e.bind(e=>!e.has(t)&&n(o,t)?(e.set(t,i.concat(e.get(null)||[],[o])),e.delete(null),r.Left(e)):r.Right(e)),r.Right(e)).fmap(e=>e.set(null,i.concat(e.get(null)||[],[o]))).extract(e=>e),new Map)}(e,t,n);return t.filter(e=>!o.has(e)).forEach(e=>void o.set(e,[])),[...o].map(([e,t])=>[t,e])}},{"spica/concat":10,"spica/either":12}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.title=function(e){e.dst.title=e.src.title}},{}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../event/router");function i(e,t){if(t.dest.reference===t.orig.reference)return!1;switch(e){case r.RouterEventType.click:case r.RouterEventType.submit:return!0;case r.RouterEventType.popstate:return!1;default:throw new TypeError(e)}}function o(e,t,n){switch(e){case r.RouterEventType.click:case r.RouterEventType.submit:return t.matches(n.trim()||"_");case r.RouterEventType.popstate:return!1;default:throw new TypeError(e)}}e("typed-dom").bind(document,"pjax:ready",()=>void window.history.replaceState(window.history.state,window.document.title)),n.url=function(e,t,n,r,s){switch(!0){case o(n,r,s):return void window.history.replaceState({},t,e.dest.reference);case i(n,e):return void window.history.pushState({},t,e.dest.reference);default:return}},n._isRegisterable=i,n._isReplaceable=o},{"../../../event/router":102,"typed-dom":88}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("../../data/store/state"))},{"../../data/store/state":99}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/supervisor.legacy"),i=e("spica/promise"),o=e("typed-dom");n.ClickView=class{constructor(e,t,n){this.sv=new class extends r.Supervisor{},this.close=()=>void this.sv.terminate(),this.sv.register("",()=>new i.AtomicPromise(()=>void this.sv.events.exit.monitor([],o.delegate(e,t,"click",e=>{e.currentTarget instanceof HTMLAnchorElement&&"string"==typeof e.currentTarget.href&&n(e)}))),void 0),this.sv.cast("",void 0)}}},{"spica/promise":77,"spica/supervisor.legacy":80,"typed-dom":88}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../service/state/url"),i=e("spica/supervisor.legacy"),o=e("spica/promise"),s=e("spica/url"),c=e("typed-dom");n.NavigationView=class{constructor(e,t){this.sv=new class extends i.Supervisor{},this.close=()=>void this.sv.terminate(),this.sv.register("",()=>new o.AtomicPromise(()=>void this.sv.events.exit.monitor([],c.bind(e,"popstate",n=>{s.standardize(e.location.href)!==r.docurl.href&&t(n)}))),void 0),this.sv.cast("",void 0)}}},{"../../service/state/url":131,"spica/promise":77,"spica/supervisor.legacy":80,"spica/url":85,"typed-dom":88}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/supervisor.legacy"),i=e("spica/promise"),o=e("spica/throttle"),s=e("typed-dom");n.ScrollView=class{constructor(e,t){this.sv=new class extends r.Supervisor{},this.close=()=>void this.sv.terminate(),this.sv.register("",()=>new i.AtomicPromise(()=>void this.sv.events.exit.monitor([],s.bind(e,"scroll",o.debounce(100,e=>{t(e)}),{passive:!0}))),void 0),this.sv.cast("",void 0)}}},{"spica/promise":77,"spica/supervisor.legacy":80,"spica/throttle":81,"typed-dom":88}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/supervisor.legacy"),i=e("spica/promise"),o=e("typed-dom");n.SubmitView=class{constructor(e,t,n){this.sv=new class extends r.Supervisor{},this.close=()=>void this.sv.terminate(),this.sv.register("",()=>new i.AtomicPromise(()=>void this.sv.events.exit.monitor([],o.delegate(e,t,"submit",e=>{e.currentTarget instanceof HTMLFormElement&&n(e)}))),void 0),this.sv.cast("",void 0)}}},{"spica/promise":77,"spica/supervisor.legacy":80,"typed-dom":88}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./router"),i=e("./state/process"),o=e("../../../lib/html"),s=e("spica/assign"),c=e("typed-dom");function a(e,t){const n=document.createElement("a");n.href=e,o.parse("").extract().body.appendChild(n),c.once(n,"click",t),c.once(n,"click",e=>void e.preventDefault()),n.click()}n.API=class{static assign(e,t,n={document:window.document,router:r.route}){let o;return a(e,e=>o=n.router(new r.Config(t),new r.RouterEvent(e),i.process,n)),o}static replace(e,t,n={document:window.document,router:r.route}){let o;return a(e,e=>o=n.router(new r.Config(s.extend({},t,{replace:"*"})),new r.RouterEvent(e),i.process,n)),o}}},{"../../../lib/html":134,"./router":126,"./state/process":128,"spica/assign":4,"typed-dom":88}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./api"),i=e("../module/view/click"),o=e("../module/view/submit"),s=e("../module/view/navigation"),c=e("../module/view/scroll"),a=e("./router"),u=e("./state/url");e("./state/scroll-restoration");const l=e("./state/process"),d=e("../../application/store"),f=e("spica/supervisor.legacy"),h=e("spica/cancellation"),p=e("spica/promise"),m=e("spica/url"),v=new class extends f.Supervisor{};n.GUI=class extends r.API{constructor(e,t={document:window.document,router:a.route}){super(),this.option=e,this.io=t;const n=new a.Config(this.option);v.register("",{init:e=>e,main:(e,r)=>new p.AtomicPromise(()=>{r.register(new i.ClickView(this.io.document,n.link,e=>void t.router(n,new a.RouterEvent(e),l.process,t)).close),r.register(new o.SubmitView(this.io.document,n.form,e=>void t.router(n,new a.RouterEvent(e),l.process,t)).close),r.register(new s.NavigationView(window,e=>void t.router(n,new a.RouterEvent(e),l.process,t)).close),r.register(new c.ScrollView(window,()=>{r.canceled||new m.URL(m.standardize(window.location.href)).reference===u.docurl.href&&d.savePosition()}).close)}),exit:(e,t)=>void t.cancel()},new h.Cancellation,new Error("Kill")),v.cast("",void 0)}assign(e){return r.API.assign(e,this.option,this.io)}replace(e){return r.API.replace(e,this.option,this.io)}},n.clear=function(){v.kill("")}},{"../../application/store":98,"../module/view/click":120,"../module/view/navigation":121,"../module/view/scroll":122,"../module/view/submit":123,"./api":124,"./router":126,"./state/process":128,"./state/scroll-restoration":130,"./state/url":131,"spica/cancellation":6,"spica/promise":77,"spica/supervisor.legacy":80,"spica/url":85}],126:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function c(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=e("../../application/router");n.Config=i.Config,n.RouterEvent=i.RouterEvent,n.RouterEventSource=i.RouterEventSource;const o=e("./state/url"),s=e("../service/state/env"),c=e("../../../lib/error"),a=e("../../application/store"),u=e("spica/url"),l=e("spica/cancellation"),d=e("spica/maybe"),f=e("typed-dom");function h(e,t,n){if(n.original.defaultPrevented)return!1;switch(n.type){case i.RouterEventType.click:return r(e)&&!function(e){const t=new u.URL(o.docurl.href);return t.origin===e.origin&&t.path===e.path&&""!==e.fragment}(e)&&!p(e)&&!n.source.hasAttribute("download")&&!function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey}(n.original)&&t.filter(n.source);case i.RouterEventType.submit:return r(e);case i.RouterEventType.popstate:return r(e)&&!p(e);default:return!1}function r(e){return new u.URL(o.docurl.href).origin===e.origin}}function p(e){const t=new u.URL(o.docurl.href);return t.origin===e.origin&&t.path===e.path&&t.fragment!==e.fragment}f.bind(window,"pjax:unload",()=>window.history.scrollRestoration="auto",!0),n.route=function(e,t,n,m){switch(t.type){case i.RouterEventType.click:case i.RouterEventType.submit:a.savePosition();break;case i.RouterEventType.popstate:m.document.title=a.loadTitle()}return d.Just(0).guard(h(t.request.url,e,t)).bind(()=>i.scope(e,(({orig:e,dest:t})=>({orig:e.pathname,dest:t.pathname}))(t.location))).fmap(e=>r(this,void 0,void 0,function*(){t.original.preventDefault(),n.cast("",new Error("Aborted."));const a=new l.Cancellation,d=n.register("",e=>(d(),a.cancel(e),new Promise(()=>void 0)),void 0),[h]=yield s.env;return window.history.scrollRestoration="manual",i.route(e,t,{process:a,scripts:h},m).then(e=>e.fmap(([e,t])=>r(this,void 0,void 0,function*(){return d(),o.docurl.sync(),e.filter(e=>e.hasAttribute("src")).forEach(e=>void h.add(new u.URL(u.standardize(e.src)).reference)),void(yield t).filter(e=>e.hasAttribute("src")).forEach(e=>void h.add(new u.URL(u.standardize(e.src)).reference))})).extract()).catch(n=>(d(),o.docurl.sync(),window.history.scrollRestoration="auto",!a.canceled||n instanceof c.FatalError?void e.fallback(f.currentTargets.get(t.original),n):void 0))})).extract(()=>{switch(t.type){case i.RouterEventType.click:case i.RouterEventType.submit:break;case i.RouterEventType.popstate:if(!p(t.location.dest))return e.fallback(t.source,new Error("Disabled.")),!0}return o.docurl.sync(),!1},()=>!0)},n._validate=h},{"../../../lib/error":133,"../../application/router":97,"../../application/store":98,"../service/state/env":127,"./state/url":131,"spica/cancellation":6,"spica/maybe":18,"spica/url":85,"typed-dom":88}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("./script");n.env=Promise.all([r.scripts,new Promise(e=>void setTimeout(e))])},{"./script":129}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/supervisor.legacy");n.process=new class extends r.Supervisor{}},{"spica/supervisor.legacy":80}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("../../../../lib/dom"),i=e("spica/url"),o=e("typed-dom");n.scripts=new Set,o.bind(window,"pjax:unload",()=>void r.find(document,"script[src]").forEach(e=>void n.scripts.add(new i.URL(i.standardize(e.src)).reference)))},{"../../../../lib/dom":132,"spica/url":85,"typed-dom":88}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e("typed-dom").bind(window,"unload",()=>window.history.scrollRestoration="auto",!1)},{"typed-dom":88}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/url");e("typed-dom").bind(window,"hashchange",()=>void n.docurl.sync()),n.docurl=new class{constructor(){this.url=r.standardize(window.location.href)}get href(){return this.url}sync(){this.url=r.standardize(window.location.href)}}},{"spica/url":85,"typed-dom":88}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.find=function(e,t){return[...e.querySelectorAll(t||"_")]},n.serialize=function(e){return Array.from(e.elements).filter(e=>{if(e.disabled)return!1;switch(e.nodeName.toLowerCase()){case"input":switch(e.type.toLowerCase()){case"checkbox":case"radio":return e.checked;case"submit":case"button":case"image":case"reset":case"file":return!1;default:return!0}case"select":case"textarea":return!0;default:return!1}}).filter(e=>"string"==typeof e.name&&"string"==typeof e.value).map(e=>[encodeURIComponent(t(e.name)),encodeURIComponent(t(e.value))].join("=")).join("&");function t(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[\uDC00-\uDFFF]/g,e=>2===e.length?e:"")}}},{}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.FatalError=class extends Error{constructor(e){super(e),this.name="FatalError"}}},{}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/maybe"),i=e("spica/either"),o=e("./dom");function s(e){c(e).forEach(([e,t])=>e.textContent=t.textContent)}function c(e){return o.find(e,"noscript").filter(e=>e.children.length>0).map(e=>{const t=e.cloneNode(!0);return t.textContent=e.innerHTML,[e,t]})}n.parse=[function(e){const t=(new DOMParser).parseFromString(e,"text/html");return s(t),t},function(e){const t=window.document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),s(t),t}].reduce((e,t)=>e.bind(()=>!function(e){try{const t=e('\n<html lang="en" class="html">\n  <head>\n    <link href="/">\n    <title>&amp;</title>\n    <noscript><style>/**/</style></noscript>\n  </head>\n  <body>\n    <noscript>noscript</noscript>\n    <a href="/"></a>\n    <script>document.head.remove();<\/script>\n    <img src="abc">\n  </body>\n</html>\n');switch(!1){case"&"===t.title:case!!t.querySelector('html.html[lang="en"]'):case!!t.querySelector("head > link").href:case!!t.querySelector("body > a").href:case!t.querySelector("head > noscript > *"):case"document.head.remove();"===t.querySelector("script").innerHTML:case t.querySelector("img").src.endsWith("abc"):case"<style>/**/</style>"===t.querySelector("head > noscript").textContent:case"noscript"===t.querySelector("body > noscript").textContent:throw void 0}return!0}catch(e){return!1}}(t)?e:i.Left(t)),i.Right(()=>r.Nothing)).extract(e=>t=>r.Just(e(t))),n.fix=s,n._fixNoscript=c},{"./dom":132,"spica/either":12,"spica/maybe":18}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("spica/url"),i=e("spica/sequence"),o=e("spica/uncurry"),s=e("spica/flip"),c=e("spica/cache");function a(e,t){const n=/\/|[^\/]+\/?/g,r=/\/$/;return i.Sequence.zip(i.Sequence.from(u(e)),i.Sequence.cycle([t])).map(([e,t])=>[e.match(n)||[],e.match(r)?t.match(n)||[]:t.replace(r,"").match(n)||[]]).filter(([e,t])=>e.length<=t.length&&0===i.Sequence.zip(i.Sequence.from(e),i.Sequence.from(t)).dropWhile(o.uncurry(d)).take(1).extract().length).take(1).extract().length>0}function u(e){if(e.match(/\*\*|[\[\]]/))throw new Error(`Invalid pattern: ${e}`);return""===e?[e]:i.Sequence.from(e.match(/{[^{}]*}|.[^{]*/g)).map(e=>e.match(/^{[^{}]*}$/)?e.slice(1,-1).split(","):[e]).mapM(i.Sequence.from).map(e=>e.join("")).bind(t=>t===e?i.Sequence.from([t]):i.Sequence.from(u(t))).unique().extract()}n.router=function(e){return t=>{const{path:n,pathname:o}=new r.URL(r.standardize(t));return i.Sequence.from(Object.keys(e).filter(([e])=>"/"===e).sort().reverse()).filter(s.flip(a)(o)).map(t=>e[t]).take(1).extract().pop().call(e,n)}},n.compare=a,n._expand=u;const l=new c.Cache(100);function d(e,t){if("."===t[0]&&[..."?*"].includes(e[0]))return!1;const n=`${e}:${t}`;return l.has(n)?l.get(n):l.set(n,function e(t,n){const[r="",...s]=[...t];const[c="",...a]=[...n];switch(r){case"":return""===c;case"?":return""!==c&&"/"!==c&&e(s.join(""),a.join(""));case"*":return"/"===c?e(s.join(""),n):i.Sequence.zip(i.Sequence.cycle([s.join("")]),i.Sequence.from(n).tails().map(e=>e.join(""))).filter(o.uncurry(e)).take(1).extract().length>0;default:return c===r&&e(s.join(""),a.join(""))}}(function e(t){const n=t.replace(/\*(\?+)\*?/g,"$1*");return n===t?n:e(n)}(e),t))}n._match=d},{"spica/cache":5,"spica/flip":15,"spica/sequence":78,"spica/uncurry":84,"spica/url":85}],"pjax-api":[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./src/export"));var r=e("./src/export");n.default=r.default},{"./src/export":96}]},{},[1,2,3,"pjax-api"]),"undefined"!=typeof self&&self,__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return require("pjax-api")})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(4),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,c,a=1,u={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),r=function(t){e.postMessage(s+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[a]=i,r(a),a++},f.clearImmediate=h}function h(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(5))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,u=[],l=!1,d=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var r=n(0),i={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},o={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},s={prefix:"fas",iconName:"external-link-alt",icon:[576,512,[],"f35d","M576 24v127.984c0 21.461-25.96 31.98-40.971 16.971l-35.707-35.709-243.523 243.523c-9.373 9.373-24.568 9.373-33.941 0l-22.627-22.627c-9.373-9.373-9.373-24.569 0-33.941L442.756 76.676l-35.703-35.705C391.982 25.9 402.656 0 424.024 0H552c13.255 0 24 10.745 24 24zM407.029 270.794l-16 16A23.999 23.999 0 0 0 384 303.765V448H64V128h264a24.003 24.003 0 0 0 16.97-7.029l16-16C376.089 89.851 365.381 64 344 64H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V287.764c0-21.382-25.852-32.09-40.971-16.97z"]},c={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]};r.c.add(i,o),r.c.add(c,s);r.a.autoAddCss=!1;var a=function(){for(var e=0,t=Array.from(document.getElementsByTagName("i"));e<t.length;e++){var n=t[e];if(!n.hasChildNodes())try{var i=(o={iconName:n.dataset.faIconName,prefix:n.dataset.faPrefix},s=n.dataset.faOption?JSON.parse(n.dataset.faOption.replace(/'/g,'"')):{},Object(r.b)(o,s).node);n.insertAdjacentElement("beforebegin",i.item(0)),n.parentElement.removeChild(n)}catch(e){console.log("FontAwesome: "+n.dataset.faPrefix+" "+n.dataset.faIconName+""),console.log(e)}}var o,s};function u(){return window.scroll({behavior:"smooth",top:0}),!1}var l=function(){for(var e=0,t=Array.from(document.getElementsByClassName("trigger-gototop"));e<t.length;e++){t[e].addEventListener("click",u)}},d=function(e,t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e,t):e()},f=function(){var e=Array.from(document.getElementsByClassName("scrollts"));if(void 0!==IntersectionObserver)for(var t=new IntersectionObserver(function(e,t){for(var n=0,r=e;n<r.length;n++){var i=r[n];i.isIntersecting&&(i.target.classList.add("show"),t.unobserve(i.target))}},{rootMargin:"-30% 0px",threshold:0}),n=new IntersectionObserver(function(e,t){for(var n=0,r=e;n<r.length;n++){var i=r[n];i.isIntersecting&&(i.target.classList.add("show"),t.unobserve(i.target))}},{rootMargin:"0px",threshold:0}),r=0,i=e;r<i.length;r++){(c=i[r]).classList.contains("scrollts-nomargin")?n.observe(c):t.observe(c)}else{console.log("v");for(var o=0,s=e;o<s.length;o++){var c;(c=s[o]).classList.add("show")}}},h=n(2),p=function(){function e(e){void 0===e&&(e={backdropWrapperId:"grid",sidebarTogglerClassName:"sidebar-toggler",targetsClassName:"sidebar-target",thresholdToDetectPx:.2*window.innerWidth,thresholdToOpenPx:.6*window.innerWidth}),this.opened=!1,this.startX=0,this.diffX=0,this.option=e,d(this.registerOnReady.bind(this)),document.addEventListener("pjax:content",this.registerClick.bind(this)),window.addEventListener("pjax:fetch",this.sidebarClose.bind(this)),window.addEventListener("resize",this.sidebarClose.bind(this))}return e.prototype.registerOnReady=function(){var e=document.createElement("div");e.setAttribute("id","backdrop"),this.targets=Array.from(document.getElementsByClassName(this.option.targetsClassName)),this.grid=document.getElementById(this.option.backdropWrapperId),this.backdrop=this.grid.appendChild(e),this.backdrop.addEventListener("click",this.backdropf.bind(this)),document.body.addEventListener("touchstart",this.touchstart.bind(this)),document.body.addEventListener("touchmove",this.touchmove.bind(this)),document.body.addEventListener("touchend",this.touchend.bind(this)),this.registerClick()},e.prototype.backdropf=function(){this.opened&&this.sidebarClose()},e.prototype.sidebarOpen=function(){for(var e=0,t=this.targets;e<t.length;e++){t[e].style.left="0"}this.backdrop.style.opacity="0.2",this.backdrop.style.pointerEvents="auto",this.backdrop.style.visibility="visible",document.body.style.overflowY="hidden",this.opened=!0},e.prototype.sidebarClose=function(){for(var e=0,t=this.targets;e<t.length;e++){t[e].style.left=""}this.backdrop.style.opacity="",this.backdrop.style.pointerEvents="",this.backdrop.style.visibility="",document.body.style.overflowY="",this.opened=!1},e.prototype.registerClick=function(){for(var e=0,t=Array.from(document.getElementsByClassName("sidebar-toggler"));e<t.length;e++){t[e].addEventListener("click",this.sidebarToggle.bind(this))}},e.prototype.sidebarToggle=function(){this.opened?this.sidebarClose():this.sidebarOpen()},e.prototype.touchstart=function(e){this.startX=e.changedTouches[0].pageX},e.prototype.touchmove=function(e){if(this.diffX=e.changedTouches[0].pageX-this.startX,this.diffX>=120)this.startX<5&&!this.opened&&this.sidebarOpen();else if(this.diffX>0){if(this.startX<5&&!this.opened){document.body.style.overflowY="hidden";for(var t=0,n=this.targets;t<n.length;t++){n[t].style.left="calc(-70vw + "+this.diffX+"px)"}}}else if(this.diffX>-120){if(this.opened){document.body.style.overflowY="";for(var r=0,i=this.targets;r<i.length;r++){i[r].style.left=this.diffX+"px"}}}else this.diffX<=-120&&this.opened&&this.sidebarClose()},e.prototype.touchend=function(){this.startX=0,this.diffX=0,this.opened?this.sidebarOpen():this.sidebarClose()},e}();function m(){a(),f(),l()}d(m),document.addEventListener("pjax:content",m),new p,new h.Pjax({areas:["#main, #breadcrumb, #mainnav, #sidebar","#grid","body"],update:{css:!1,head:"meta"}}),function(){var e=window.navigator.userAgent.toLowerCase();if(/android/.test(e)&&/linux; u;/.test(e)&&!/chrome/.test(e))throw alert("Chrome"),new Error("");if(/msie/.test(e)||/trident/.test(e))throw alert("Internet ExplorerEdgeChrome"),new Error("Internet Explorer")}(),window.addEventListener("pjax:load",function(){window.gtag,window.DISQUS&&window.DISQUS.reset({config:window.disqus_config,reload:!0}),window.twttr&&window.twttr.widgets.load()})}]);